<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Vowpal Wabbit: /__w/vowpal_wabbit/vowpal_wabbit/vowpalwabbit/stagewise_poly.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vowpal Wabbit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="https://github.com/JohnLangford/vowpal_wabbit/wiki"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_23e69c20c74a4591a9cfc65aaff8f3d1.html">vowpalwabbit</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stagewise_poly.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;cfloat&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &quot;<a class="el" href="gd_8h_source.html">gd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="accumulate_8h_source.html">accumulate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="reductions_8h_source.html">reductions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vw_8h_source.html">vw.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vw__allreduce_8h_source.html">vw_allreduce.h</a>&quot;</code><br />
</div>
<p><a href="stagewise__poly_8cc_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsort__data.html">sort_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstagewise__poly.html">stagewise_poly</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fca0a9f0d667bbe422056d4c7153077"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t idx)</td></tr>
<tr class="separator:a4fca0a9f0d667bbe422056d4c7153077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedeeb6036417fee8da3226519e4b7f26"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t idx)</td></tr>
<tr class="separator:aedeeb6036417fee8da3226519e4b7f26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60482c162d4285b61538f8536ae18d6f"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t idx)</td></tr>
<tr class="separator:a60482c162d4285b61538f8536ae18d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15362d8c4bafca9101f4263b368fd2ef"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a15362d8c4bafca9101f4263b368fd2ef">un_ft_offset</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t idx)</td></tr>
<tr class="separator:a15362d8c4bafca9101f4263b368fd2ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d4ce866d120d504e7f5616ee3de0d9"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wid)</td></tr>
<tr class="separator:a74d4ce866d120d504e7f5616ee3de0d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cdd1bb6d4a5c01754c2cb9872ee0538"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wid)</td></tr>
<tr class="separator:a8cdd1bb6d4a5c01754c2cb9872ee0538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98e5a115dbe829d89514ecce5ff9090"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#ad98e5a115dbe829d89514ecce5ff9090">constant_feat</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:ad98e5a115dbe829d89514ecce5ff9090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c8040bbfb52f57236d6c97244d9f88"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:a50c8040bbfb52f57236d6c97244d9f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63eb2c97ba6663d5f8b3568d958cf0eb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a63eb2c97ba6663d5f8b3568d958cf0eb">depthsbits_sizeof</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:a63eb2c97ba6663d5f8b3568d958cf0eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8bc0c2112efb838fd84769680b602c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#aeb8bc0c2112efb838fd84769680b602c">depthsbits_create</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:aeb8bc0c2112efb838fd84769680b602c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889b0a61f3055a8fed838d19a9204e14"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wid)</td></tr>
<tr class="separator:a889b0a61f3055a8fed838d19a9204e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0413f46fcafc1dda81e385c599c7151"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#ad0413f46fcafc1dda81e385c599c7151">parent_toggle</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wid)</td></tr>
<tr class="separator:ad0413f46fcafc1dda81e385c599c7151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606c88fbb837a9081613e71df7a53ca4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a606c88fbb837a9081613e71df7a53ca4">cycle_get</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wid)</td></tr>
<tr class="separator:a606c88fbb837a9081613e71df7a53ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec43cb7c4714cd6a9069ac63b8193e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#adec43cb7c4714cd6a9069ac63b8193e1">cycle_toggle</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wid)</td></tr>
<tr class="separator:adec43cb7c4714cd6a9069ac63b8193e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8356b52737af4820161d6161e9cd324a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wid)</td></tr>
<tr class="separator:a8356b52737af4820161d6161e9cd324a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c37e448b33a86b6ce921f6508e00b2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a0c37e448b33a86b6ce921f6508e00b2c">min_depths_set</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wid, uint8_t depth)</td></tr>
<tr class="separator:a0c37e448b33a86b6ce921f6508e00b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a376784715bc6ac2dbd4470a904402347"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a376784715bc6ac2dbd4470a904402347">sanity_check_state</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:a376784715bc6ac2dbd4470a904402347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739a40f8e225c2537201536d2517aa4a"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a739a40f8e225c2537201536d2517aa4a">child_wid</a> (const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, uint64_t wi_atomic, uint64_t wi_general)</td></tr>
<tr class="separator:a739a40f8e225c2537201536d2517aa4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48601d1208c0a330d01133c05e5dccc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a48601d1208c0a330d01133c05e5dccc2">sort_data_create</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:a48601d1208c0a330d01133c05e5dccc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfb09913d2fd87240114542f04cc237"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a0bfb09913d2fd87240114542f04cc237">sort_data_ensure_sz</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, size_t len)</td></tr>
<tr class="separator:a0bfb09913d2fd87240114542f04cc237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e8fa5cbbfe1de4897f5c94de32f5f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a03e8fa5cbbfe1de4897f5c94de32f5f1">sort_data_compar_heap</a> (<a class="el" href="structsort__data.html">sort_data</a> &amp;a_v, <a class="el" href="structsort__data.html">sort_data</a> &amp;b_v)</td></tr>
<tr class="separator:a03e8fa5cbbfe1de4897f5c94de32f5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f461f5e4733131f479c4c4ed4a079bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a7f461f5e4733131f479c4c4ed4a079bb">sort_data_update_support</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:a7f461f5e4733131f479c4c4ed4a079bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0717a42934beaf5f00495d6451b98a12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a0717a42934beaf5f00495d6451b98a12">synthetic_reset</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, <a class="el" href="structexample.html">example</a> &amp;ec)</td></tr>
<tr class="separator:a0717a42934beaf5f00495d6451b98a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003e9d852313a639fdd04d5f814d1b3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a003e9d852313a639fdd04d5f814d1b3c">synthetic_decycle</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:a003e9d852313a639fdd04d5f814d1b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0719b1cbc7ee084036c2d6b88f7315"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#aec0719b1cbc7ee084036c2d6b88f7315">synthetic_create_rec</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, float v, uint64_t findex)</td></tr>
<tr class="separator:aec0719b1cbc7ee084036c2d6b88f7315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a114d384368673737a70a5091a6362c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a0a114d384368673737a70a5091a6362c">synthetic_create</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, <a class="el" href="structexample.html">example</a> &amp;ec, bool training)</td></tr>
<tr class="separator:a0a114d384368673737a70a5091a6362c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3833856e1bd1d9b02990a8408b45c0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#af3833856e1bd1d9b02990a8408b45c0a">predict</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, <a class="el" href="namespaceLEARNER.html#a43eb8cec4287b4ad02967d7012bbf0a3">single_learner</a> &amp;base, <a class="el" href="structexample.html">example</a> &amp;ec)</td></tr>
<tr class="separator:af3833856e1bd1d9b02990a8408b45c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d47a7017b0546e15dcd1cc2af22e244"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a5d47a7017b0546e15dcd1cc2af22e244">learn</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, <a class="el" href="namespaceLEARNER.html#a43eb8cec4287b4ad02967d7012bbf0a3">single_learner</a> &amp;base, <a class="el" href="structexample.html">example</a> &amp;ec)</td></tr>
<tr class="separator:a5d47a7017b0546e15dcd1cc2af22e244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f9ed2afb9cff56b948f3d6dc28e400"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a84f9ed2afb9cff56b948f3d6dc28e400">reduce_min</a> (uint8_t &amp;v1, const uint8_t &amp;v2)</td></tr>
<tr class="separator:a84f9ed2afb9cff56b948f3d6dc28e400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d845d6701f339fa01b127ce920c0bd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a1d845d6701f339fa01b127ce920c0bd1">reduce_min_max</a> (uint8_t &amp;v1, const uint8_t &amp;v2)</td></tr>
<tr class="separator:a1d845d6701f339fa01b127ce920c0bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7a519c254b05e49f972e8091be3541"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a5e7a519c254b05e49f972e8091be3541">end_pass</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly)</td></tr>
<tr class="separator:a5e7a519c254b05e49f972e8091be3541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac32581cdaab2dbe05d058e8fbd34a95f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#ac32581cdaab2dbe05d058e8fbd34a95f">finish_example</a> (<a class="el" href="structvw.html">vw</a> &amp;all, <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, <a class="el" href="structexample.html">example</a> &amp;ec)</td></tr>
<tr class="separator:ac32581cdaab2dbe05d058e8fbd34a95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2ddb9c29c585a00005d8e404464435"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a3e2ddb9c29c585a00005d8e404464435">save_load</a> (<a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;poly, <a class="el" href="classio__buf.html">io_buf</a> &amp;model_file, bool read, bool text)</td></tr>
<tr class="separator:a3e2ddb9c29c585a00005d8e404464435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8036ea8928580ed7c85d0fceac95a711"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceLEARNER.html#a807843d5185e0c5005a54bf28c111c79">base_learner</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a8036ea8928580ed7c85d0fceac95a711">stagewise_poly_setup</a> (<a class="el" href="structVW_1_1config_1_1options__i.html">options_i</a> &amp;options, <a class="el" href="structvw.html">vw</a> &amp;all)</td></tr>
<tr class="separator:a8036ea8928580ed7c85d0fceac95a711"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad22a86e1e28ab2638a12ca90cb05cdae"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#ad22a86e1e28ab2638a12ca90cb05cdae">parent_bit</a> = 1</td></tr>
<tr class="separator:ad22a86e1e28ab2638a12ca90cb05cdae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bef303aa70cef243cd95c90833f149e"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a7bef303aa70cef243cd95c90833f149e">cycle_bit</a> = 2</td></tr>
<tr class="separator:a7bef303aa70cef243cd95c90833f149e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528d3d201f37a8c81d30df704d1c707b"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a> = 134</td></tr>
<tr class="separator:a528d3d201f37a8c81d30df704d1c707b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786da50faf577687b38b88863257d571"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a786da50faf577687b38b88863257d571">tolerance</a> = 1e-9f</td></tr>
<tr class="separator:a786da50faf577687b38b88863257d571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9384f4fe4228393ce09587a4a38658c9"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a9384f4fe4228393ce09587a4a38658c9">indicator_bit</a> = 128</td></tr>
<tr class="separator:a9384f4fe4228393ce09587a4a38658c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963ff0346f8e9da6b1aa1242b8864c55"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a> = 127</td></tr>
<tr class="separator:a963ff0346f8e9da6b1aa1242b8864c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a739a40f8e225c2537201536d2517aa4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t child_wid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wi_atomic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wi_general</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00209">209</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00126">constant_feat_masked()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00090">stride_un_shift()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00117">wid_mask()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  assert(wi_atomic == <a class="code" href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a>(poly, wi_atomic));</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  assert(wi_general == <a class="code" href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a>(poly, wi_general));</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  assert((wi_atomic &amp; (<a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) - 1)) == 0);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  assert((wi_general &amp; (<a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) - 1)) == 0);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">if</span> (wi_atomic == <a class="code" href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a>(poly))</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> wi_general;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wi_general == <a class="code" href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a>(poly))</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> wi_atomic;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// This is basically the &quot;Fowler–Noll–Vo&quot; hash.  Ideally, the hash would be invariant</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// to the monomial, whereas this here is sensitive to the path followed, but whatever.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// the two main big differences with FNV are: (1) the &quot;*constant&quot; case should also have</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// a big prime (so the default hash shouldn&#39;t be identity on small things, and (2) the</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// size should not just be a power of 2, but some big prime.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a>(</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        poly, <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, <a class="code" href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a>(poly, wi_atomic) ^ (16777619 * <a class="code" href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a>(poly, wi_general))));</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a74d4ce866d120d504e7f5616ee3de0d9"><div class="ttname"><a href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a></div><div class="ttdeci">uint64_t wid_mask(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00117">stagewise_poly.cc:117</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_aedeeb6036417fee8da3226519e4b7f26"><div class="ttname"><a href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a></div><div class="ttdeci">uint64_t stride_un_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00090">stagewise_poly.cc:90</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a50c8040bbfb52f57236d6c97244d9f88"><div class="ttname"><a href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a></div><div class="ttdeci">uint64_t constant_feat_masked(const stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00126">stagewise_poly.cc:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad98e5a115dbe829d89514ecce5ff9090"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t constant_feat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00124">124</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="constant_8h_source.html#l00009">constant</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, and <a class="el" href="global__data_8h_source.html#l00424">vw::wpp</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00126">constant_feat_masked()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, <a class="code" href="constant_8h.html#a756519f5578552c555ce0353b3fa4fc6">constant</a> * poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ad9a07c1068f9c638b4ce548c048156f7">wpp</a>); }</div><div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="constant_8h_html_a756519f5578552c555ce0353b3fa4fc6"><div class="ttname"><a href="constant_8h.html#a756519f5578552c555ce0353b3fa4fc6">constant</a></div><div class="ttdeci">constexpr uint64_t constant</div><div class="ttdef"><b>Definition:</b> <a href="constant_8h_source.html#l00009">constant.h:9</a></div></div>
<div class="ttc" id="structvw_html_ad9a07c1068f9c638b4ce548c048156f7"><div class="ttname"><a href="structvw.html#ad9a07c1068f9c638b4ce548c048156f7">vw::wpp</a></div><div class="ttdeci">uint32_t wpp</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00424">global_data.h:424</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50c8040bbfb52f57236d6c97244d9f88"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t constant_feat_masked </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00126">126</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00124">constant_feat()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00117">wid_mask()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00209">child_wid()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00473">synthetic_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a>(poly, <a class="code" href="stagewise__poly_8cc.html#ad98e5a115dbe829d89514ecce5ff9090">constant_feat</a>(poly)); }</div><div class="ttc" id="stagewise__poly_8cc_html_a74d4ce866d120d504e7f5616ee3de0d9"><div class="ttname"><a href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a></div><div class="ttdeci">uint64_t wid_mask(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00117">stagewise_poly.cc:117</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_ad98e5a115dbe829d89514ecce5ff9090"><div class="ttname"><a href="stagewise__poly_8cc.html#ad98e5a115dbe829d89514ecce5ff9090">constant_feat</a></div><div class="ttdeci">uint64_t constant_feat(const stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00124">stagewise_poly.cc:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a606c88fbb837a9081613e71df7a53ca4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cycle_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00154">154</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00020">cycle_bit</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00119">wid_mask_un_shifted()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00408">synthetic_decycle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// note: intentionally leaving out ft_offset.</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  assert(wid % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">if</span> ((poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[<a class="code" href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a>(poly, wid) * 2 + 1] &amp; <a class="code" href="stagewise__poly_8cc.html#a7bef303aa70cef243cd95c90833f149e">cycle_bit</a>) &gt; 0)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a7bef303aa70cef243cd95c90833f149e"><div class="ttname"><a href="stagewise__poly_8cc.html#a7bef303aa70cef243cd95c90833f149e">cycle_bit</a></div><div class="ttdeci">static constexpr uint32_t cycle_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00020">stagewise_poly.cc:20</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a8cdd1bb6d4a5c01754c2cb9872ee0538"><div class="ttname"><a href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a></div><div class="ttdeci">uint64_t wid_mask_un_shifted(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00119">stagewise_poly.cc:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adec43cb7c4714cd6a9069ac63b8193e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cycle_toggle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00164">164</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00020">cycle_bit</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00119">wid_mask_un_shifted()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00408">synthetic_decycle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">// note: intentionally leaving out ft_offset.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  assert(wid % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[<a class="code" href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a>(poly, wid) * 2 + 1] ^= <a class="code" href="stagewise__poly_8cc.html#a7bef303aa70cef243cd95c90833f149e">cycle_bit</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a7bef303aa70cef243cd95c90833f149e"><div class="ttname"><a href="stagewise__poly_8cc.html#a7bef303aa70cef243cd95c90833f149e">cycle_bit</a></div><div class="ttdeci">static constexpr uint32_t cycle_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00020">stagewise_poly.cc:20</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a8cdd1bb6d4a5c01754c2cb9872ee0538"><div class="ttname"><a href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a></div><div class="ttdeci">uint64_t wid_mask_un_shifted(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00119">stagewise_poly.cc:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb8bc0c2112efb838fd84769680b602c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void depthsbits_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00130">130</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00024">default_depth</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00023">indicator_bit</a>, and <a class="el" href="global__data_8h_source.html#l00507">vw::length()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00659">stagewise_poly_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a> = calloc_or_throw&lt;uint8_t&gt;(2 * poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>());</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">for</span> (uint64_t i = 0; i &lt; poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>() * 2; i += 2)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[i] = <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[i + 1] = <a class="code" href="stagewise__poly_8cc.html#a9384f4fe4228393ce09587a4a38658c9">indicator_bit</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="ttc" id="structvw_html_ab73b9bae2e902cf1278e5a3f232832fc"><div class="ttname"><a href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">vw::length</a></div><div class="ttdeci">size_t length()</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00507">global_data.h:507</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a963ff0346f8e9da6b1aa1242b8864c55"><div class="ttname"><a href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a></div><div class="ttdeci">static constexpr uint32_t default_depth</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00024">stagewise_poly.cc:24</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a9384f4fe4228393ce09587a4a38658c9"><div class="ttname"><a href="stagewise__poly_8cc.html#a9384f4fe4228393ce09587a4a38658c9">indicator_bit</a></div><div class="ttdeci">static constexpr uint32_t indicator_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00023">stagewise_poly.cc:23</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63eb2c97ba6663d5f8b3568d958cf0eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t depthsbits_sizeof </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00128">128</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, and <a class="el" href="global__data_8h_source.html#l00507">vw::length()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00584">end_pass()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00642">save_load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{ <span class="keywordflow">return</span> (2 * poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>() * <span class="keyword">sizeof</span>(uint8_t)); }</div><div class="ttc" id="structvw_html_ab73b9bae2e902cf1278e5a3f232832fc"><div class="ttname"><a href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">vw::length</a></div><div class="ttdeci">size_t length()</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00507">global_data.h:507</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60482c162d4285b61538f8536ae18d6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t do_ft_offset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00095">95</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="example__predict_8h_source.html#l00040">example_predict::ft_offset</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00055">stagewise_poly::original_ec</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00171">min_depths_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00178">min_depths_set()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00140">parent_get()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00147">parent_toggle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// std::cout &lt;&lt; poly.synth_ec.ft_offset &lt;&lt; &quot;  &quot; &lt;&lt; poly.original_ec-&gt;ft_offset &lt;&lt; std::endl;</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  assert(!poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a> || poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a> == poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a>-&gt;<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">return</span> idx + poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="ttc" id="structexample__predict_html_a964a7741ec79edbb2e7e2298ffdd767a"><div class="ttname"><a href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">example_predict::ft_offset</a></div><div class="ttdeci">uint64_t ft_offset</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00040">example_predict.h:40</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aee858c16692c82eee1f5c5a44c153eb9"><div class="ttname"><a href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">stagewise_poly::original_ec</a></div><div class="ttdeci">example * original_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00055">stagewise_poly.cc:55</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5e7a519c254b05e49f972e8091be3541"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void end_pass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00584">584</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="accumulate_8cc_source.html#l00042">accumulate_scalar()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="global__data_8h_source.html#l00371">vw::all_reduce</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00037">stagewise_poly::batch_sz</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00128">depthsbits_sizeof()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00046">stagewise_poly::num_examples</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00050">stagewise_poly::num_examples_sync</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00059">stagewise_poly::numpasses</a>, <a class="el" href="global__data_8h_source.html#l00443">vw::numpasses</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00045">stagewise_poly::sum_input_sparsity</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00049">stagewise_poly::sum_input_sparsity_sync</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00044">stagewise_poly::sum_sparsity</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00048">stagewise_poly::sum_sparsity_sync</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00061">stagewise_poly::update_support</a>.</p>
<div class="fragment"><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (!!poly.<a class="code" href="structstagewise__poly.html#a14d7a86293a282e66e4e22424e21778e">batch_sz</a> || (poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a20c2edd21794e845c4e0b3c36ea35327">all_reduce</a> != <span class="keyword">nullptr</span> &amp;&amp; poly.<a class="code" href="structstagewise__poly.html#a9a344ff4e84e8ca4f1b288d21a04fa7d">numpasses</a> &gt; 1))</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  uint64_t sum_sparsity_inc = poly.<a class="code" href="structstagewise__poly.html#a916297b11591ef354d978a35605d0a56">sum_sparsity</a> - poly.<a class="code" href="structstagewise__poly.html#abbed7d39c5575df7cdfec1db9e39cacd">sum_sparsity_sync</a>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  uint64_t sum_input_sparsity_inc = poly.<a class="code" href="structstagewise__poly.html#ae100c8e43f6d1331f71fe858eb090050">sum_input_sparsity</a> - poly.<a class="code" href="structstagewise__poly.html#a59c6645cc8b97073fb8d6a317d610fb3">sum_input_sparsity_sync</a>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  uint64_t num_examples_inc = poly.<a class="code" href="structstagewise__poly.html#a511ecd9de9bbd0d51bf3e86b57fed4b6">num_examples</a> - poly.<a class="code" href="structstagewise__poly.html#a0d64b7128cdd520b7dd0a09b285243e4">num_examples_sync</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Sanity before allreduce\n&quot;</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#a376784715bc6ac2dbd4470a904402347">sanity_check_state</a>(poly);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="structvw.html">vw</a> &amp;all = *poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">if</span> (all.<a class="code" href="structvw.html#a20c2edd21794e845c4e0b3c36ea35327">all_reduce</a> != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">     * The following is inconsistent with the transplant code in</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">     * synthetic_create_rec(), which clears parent bits on depth mismatches.</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">     * But it&#39;s unclear what the right behavior is in general for either</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">     * case...</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    all_reduce&lt;uint8_t, reduce_min_max&gt;(all, poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>, <a class="code" href="stagewise__poly_8cc.html#a63eb2c97ba6663d5f8b3568d958cf0eb">depthsbits_sizeof</a>(poly));</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    sum_input_sparsity_inc = (uint64_t)<a class="code" href="accumulate_8cc.html#a5f9b9046c85ecd62ead81d5fe7a7624b">accumulate_scalar</a>(all, (<span class="keywordtype">float</span>)sum_input_sparsity_inc);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    sum_sparsity_inc = (uint64_t)<a class="code" href="accumulate_8cc.html#a5f9b9046c85ecd62ead81d5fe7a7624b">accumulate_scalar</a>(all, (<span class="keywordtype">float</span>)sum_sparsity_inc);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    num_examples_inc = (uint64_t)<a class="code" href="accumulate_8cc.html#a5f9b9046c85ecd62ead81d5fe7a7624b">accumulate_scalar</a>(all, (<span class="keywordtype">float</span>)num_examples_inc);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a59c6645cc8b97073fb8d6a317d610fb3">sum_input_sparsity_sync</a> = poly.<a class="code" href="structstagewise__poly.html#a59c6645cc8b97073fb8d6a317d610fb3">sum_input_sparsity_sync</a> + sum_input_sparsity_inc;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#ae100c8e43f6d1331f71fe858eb090050">sum_input_sparsity</a> = poly.<a class="code" href="structstagewise__poly.html#a59c6645cc8b97073fb8d6a317d610fb3">sum_input_sparsity_sync</a>;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#abbed7d39c5575df7cdfec1db9e39cacd">sum_sparsity_sync</a> = poly.<a class="code" href="structstagewise__poly.html#abbed7d39c5575df7cdfec1db9e39cacd">sum_sparsity_sync</a> + sum_sparsity_inc;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a916297b11591ef354d978a35605d0a56">sum_sparsity</a> = poly.<a class="code" href="structstagewise__poly.html#abbed7d39c5575df7cdfec1db9e39cacd">sum_sparsity_sync</a>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a0d64b7128cdd520b7dd0a09b285243e4">num_examples_sync</a> = poly.<a class="code" href="structstagewise__poly.html#a0d64b7128cdd520b7dd0a09b285243e4">num_examples_sync</a> + num_examples_inc;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a511ecd9de9bbd0d51bf3e86b57fed4b6">num_examples</a> = poly.<a class="code" href="structstagewise__poly.html#a0d64b7128cdd520b7dd0a09b285243e4">num_examples_sync</a>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Sanity after allreduce\n&quot;</span>;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#a376784715bc6ac2dbd4470a904402347">sanity_check_state</a>(poly);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (poly.<a class="code" href="structstagewise__poly.html#a9a344ff4e84e8ca4f1b288d21a04fa7d">numpasses</a> != poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ad1f9eb87601ea231196182e3fce1a2a7">numpasses</a>)</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#af91f2a8b29f72cb9c9c368a27529ad14">update_support</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a9a344ff4e84e8ca4f1b288d21a04fa7d">numpasses</a>++;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a376784715bc6ac2dbd4470a904402347"><div class="ttname"><a href="stagewise__poly_8cc.html#a376784715bc6ac2dbd4470a904402347">sanity_check_state</a></div><div class="ttdeci">void sanity_check_state(stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00186">stagewise_poly.cc:186</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a14d7a86293a282e66e4e22424e21778e"><div class="ttname"><a href="structstagewise__poly.html#a14d7a86293a282e66e4e22424e21778e">stagewise_poly::batch_sz</a></div><div class="ttdeci">uint32_t batch_sz</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00037">stagewise_poly.cc:37</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a511ecd9de9bbd0d51bf3e86b57fed4b6"><div class="ttname"><a href="structstagewise__poly.html#a511ecd9de9bbd0d51bf3e86b57fed4b6">stagewise_poly::num_examples</a></div><div class="ttdeci">uint64_t num_examples</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00046">stagewise_poly.cc:46</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a63eb2c97ba6663d5f8b3568d958cf0eb"><div class="ttname"><a href="stagewise__poly_8cc.html#a63eb2c97ba6663d5f8b3568d958cf0eb">depthsbits_sizeof</a></div><div class="ttdeci">size_t depthsbits_sizeof(const stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00128">stagewise_poly.cc:128</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="structstagewise__poly_html_ae100c8e43f6d1331f71fe858eb090050"><div class="ttname"><a href="structstagewise__poly.html#ae100c8e43f6d1331f71fe858eb090050">stagewise_poly::sum_input_sparsity</a></div><div class="ttdeci">uint64_t sum_input_sparsity</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00045">stagewise_poly.cc:45</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a59c6645cc8b97073fb8d6a317d610fb3"><div class="ttname"><a href="structstagewise__poly.html#a59c6645cc8b97073fb8d6a317d610fb3">stagewise_poly::sum_input_sparsity_sync</a></div><div class="ttdeci">uint64_t sum_input_sparsity_sync</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00049">stagewise_poly.cc:49</a></div></div>
<div class="ttc" id="structvw_html"><div class="ttname"><a href="structvw.html">vw</a></div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00359">global_data.h:359</a></div></div>
<div class="ttc" id="structstagewise__poly_html_abbed7d39c5575df7cdfec1db9e39cacd"><div class="ttname"><a href="structstagewise__poly.html#abbed7d39c5575df7cdfec1db9e39cacd">stagewise_poly::sum_sparsity_sync</a></div><div class="ttdeci">uint64_t sum_sparsity_sync</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00048">stagewise_poly.cc:48</a></div></div>
<div class="ttc" id="structvw_html_a20c2edd21794e845c4e0b3c36ea35327"><div class="ttname"><a href="structvw.html#a20c2edd21794e845c4e0b3c36ea35327">vw::all_reduce</a></div><div class="ttdeci">AllReduce * all_reduce</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00371">global_data.h:371</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a0d64b7128cdd520b7dd0a09b285243e4"><div class="ttname"><a href="structstagewise__poly.html#a0d64b7128cdd520b7dd0a09b285243e4">stagewise_poly::num_examples_sync</a></div><div class="ttdeci">uint64_t num_examples_sync</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00050">stagewise_poly.cc:50</a></div></div>
<div class="ttc" id="structvw_html_ad1f9eb87601ea231196182e3fce1a2a7"><div class="ttname"><a href="structvw.html#ad1f9eb87601ea231196182e3fce1a2a7">vw::numpasses</a></div><div class="ttdeci">size_t numpasses</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00443">global_data.h:443</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a916297b11591ef354d978a35605d0a56"><div class="ttname"><a href="structstagewise__poly.html#a916297b11591ef354d978a35605d0a56">stagewise_poly::sum_sparsity</a></div><div class="ttdeci">uint64_t sum_sparsity</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00044">stagewise_poly.cc:44</a></div></div>
<div class="ttc" id="accumulate_8cc_html_a5f9b9046c85ecd62ead81d5fe7a7624b"><div class="ttname"><a href="accumulate_8cc.html#a5f9b9046c85ecd62ead81d5fe7a7624b">accumulate_scalar</a></div><div class="ttdeci">float accumulate_scalar(vw &amp;all, float local_sum)</div><div class="ttdef"><b>Definition:</b> <a href="accumulate_8cc_source.html#l00042">accumulate.cc:42</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a9a344ff4e84e8ca4f1b288d21a04fa7d"><div class="ttname"><a href="structstagewise__poly.html#a9a344ff4e84e8ca4f1b288d21a04fa7d">stagewise_poly::numpasses</a></div><div class="ttdeci">size_t numpasses</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00059">stagewise_poly.cc:59</a></div></div>
<div class="ttc" id="structstagewise__poly_html_af91f2a8b29f72cb9c9c368a27529ad14"><div class="ttname"><a href="structstagewise__poly.html#af91f2a8b29f72cb9c9c368a27529ad14">stagewise_poly::update_support</a></div><div class="ttdeci">bool update_support</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00061">stagewise_poly.cc:61</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac32581cdaab2dbe05d058e8fbd34a95f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void finish_example </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvw.html">vw</a> &amp;&#160;</td>
          <td class="paramname"><em>all</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structexample.html">example</a> &amp;&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00633">633</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="parser_8cc_source.html#l00918">VW::finish_example()</a>, <a class="el" href="example_8h_source.html#l00068">example::num_features</a>, <a class="el" href="active_8cc_source.html#l00110">output_and_account_example()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00659">stagewise_poly_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordtype">size_t</span> temp_num_features = ec.<a class="code" href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">num_features</a>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  ec.<a class="code" href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">num_features</a> = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">num_features</a>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="active_8cc.html#a6ec10f4789bb339b73c6e1933a2b2ed2">output_and_account_example</a>(all, ec);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  ec.<a class="code" href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">num_features</a> = temp_num_features;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="namespaceVW.html#a67d2e194f1865809a14c8f3899497c4c">VW::finish_example</a>(all, ec);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div><div class="ttc" id="active_8cc_html_a6ec10f4789bb339b73c6e1933a2b2ed2"><div class="ttname"><a href="active_8cc.html#a6ec10f4789bb339b73c6e1933a2b2ed2">output_and_account_example</a></div><div class="ttdeci">void output_and_account_example(vw &amp;all, active &amp;a, example &amp;ec)</div><div class="ttdef"><b>Definition:</b> <a href="active_8cc_source.html#l00110">active.cc:110</a></div></div>
<div class="ttc" id="structexample_html_a35f3ec2680a21f971548cf5bb9f1fda0"><div class="ttname"><a href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">example::num_features</a></div><div class="ttdeci">size_t num_features</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00068">example.h:68</a></div></div>
<div class="ttc" id="namespaceVW_html_a67d2e194f1865809a14c8f3899497c4c"><div class="ttname"><a href="namespaceVW.html#a67d2e194f1865809a14c8f3899497c4c">VW::finish_example</a></div><div class="ttdeci">void finish_example(vw &amp;, example &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="parser_8cc_source.html#l00918">parser.cc:918</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d47a7017b0546e15dcd1cc2af22e244"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void learn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceLEARNER.html#a43eb8cec4287b4ad02967d7012bbf0a3">single_learner</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structexample.html">example</a> &amp;&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00509">509</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="global__data_8h_source.html#l00371">vw::all_reduce</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00037">stagewise_poly::batch_sz</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00038">stagewise_poly::batch_sz_double</a>, <a class="el" href="example_8h_source.html#l00065">example::example_counter</a>, <a class="el" href="example_8h_source.html#l00058">example::l</a>, <a class="el" href="simple__label_8h_source.html#l00012">label_data::label</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00058">stagewise_poly::last_example_counter</a>, <a class="el" href="learner_8h_source.html#l00156">LEARNER::learner&lt; T, E &gt;::learn()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00060">stagewise_poly::next_batch_sz</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00059">stagewise_poly::numpasses</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00055">stagewise_poly::original_ec</a>, <a class="el" href="example_8h_source.html#l00069">example::partial_prediction</a>, <a class="el" href="example_8h_source.html#l00061">example::pred</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00499">predict()</a>, <a class="el" href="example_8h_source.html#l00045">polyprediction::scalar</a>, <a class="el" href="example_8h_source.html#l00027">polylabel::simple</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00473">synthetic_create()</a>, <a class="el" href="global__data_8h_source.html#l00482">vw::training</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00061">stagewise_poly::update_support</a>, and <a class="el" href="example_8h_source.html#l00070">example::updated_prediction</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00659">stagewise_poly_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordtype">bool</span> training = poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#aa008bf77c7a0f5b90b21d16b3b1cf38c">training</a> &amp;&amp; ec.<a class="code" href="structexample.html#a0c87f6e82d9c95ae42158bdbdab3acf5">l</a>.<a class="code" href="unionpolylabel.html#a80ff268cb4e29afddaac58174d316297">simple</a>.<a class="code" href="structlabel__data.html#a09103f622b965d8c14f0047b53ba7fe1">label</a> != FLT_MAX;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a> = &amp;ec;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">if</span> (training)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (poly.<a class="code" href="structstagewise__poly.html#af91f2a8b29f72cb9c9c368a27529ad14">update_support</a>)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <a class="code" href="stagewise__poly_8cc.html#a7f461f5e4733131f479c4c4ed4a079bb">sort_data_update_support</a>(poly);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      poly.<a class="code" href="structstagewise__poly.html#af91f2a8b29f72cb9c9c368a27529ad14">update_support</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="stagewise__poly_8cc.html#a0a114d384368673737a70a5091a6362c">synthetic_create</a>(poly, ec, training);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    base.<a class="code" href="structLEARNER_1_1learner.html#a9984332080a6ee4730a5762e9be3a3f6">learn</a>(poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    ec.<a class="code" href="structexample.html#a3e4e427253321a8867a27827a3dd59c1">partial_prediction</a> = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a3e4e427253321a8867a27827a3dd59c1">partial_prediction</a>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    ec.<a class="code" href="structexample.html#a86c4567ec3771465b2387bdfe83eb86c">updated_prediction</a> = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a86c4567ec3771465b2387bdfe83eb86c">updated_prediction</a>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    ec.<a class="code" href="structexample.html#ad1477e890371ed8253f1953d4190ba49">pred</a>.<a class="code" href="unionpolyprediction.html#ae29f42559acac5a2b08322a7fe887f04">scalar</a> = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#ad1477e890371ed8253f1953d4190ba49">pred</a>.<a class="code" href="unionpolyprediction.html#ae29f42559acac5a2b08322a7fe887f04">scalar</a>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (ec.<a class="code" href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example_counter</a></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="comment">// following line is to avoid repeats when multiple reductions on same example.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment">// XXX ideally, would get all &quot;copies&quot; of an example before scheduling the support</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">// update, but how do we know?</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        &amp;&amp; poly.<a class="code" href="structstagewise__poly.html#a353681dc9db06e1597758c1f64b4a593">last_example_counter</a> != ec.<a class="code" href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example_counter</a> &amp;&amp; poly.<a class="code" href="structstagewise__poly.html#a14d7a86293a282e66e4e22424e21778e">batch_sz</a> &amp;&amp;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        ((poly.<a class="code" href="structstagewise__poly.html#a639fecbe85a813468996b060e20c1d6f">batch_sz_double</a> &amp;&amp; !(ec.<a class="code" href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example_counter</a> % poly.<a class="code" href="structstagewise__poly.html#a6393b309a0e1f2a0e9dab42e199176ef">next_batch_sz</a>)) ||</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            (!poly.<a class="code" href="structstagewise__poly.html#a639fecbe85a813468996b060e20c1d6f">batch_sz_double</a> &amp;&amp; !(ec.<a class="code" href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example_counter</a> % poly.<a class="code" href="structstagewise__poly.html#a14d7a86293a282e66e4e22424e21778e">batch_sz</a>))))</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      poly.<a class="code" href="structstagewise__poly.html#a6393b309a0e1f2a0e9dab42e199176ef">next_batch_sz</a> *= 2;  <span class="comment">// no effect when !poly.batch_sz_double</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      poly.<a class="code" href="structstagewise__poly.html#af91f2a8b29f72cb9c9c368a27529ad14">update_support</a> = (poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a20c2edd21794e845c4e0b3c36ea35327">all_reduce</a> == <span class="keyword">nullptr</span> || poly.<a class="code" href="structstagewise__poly.html#a9a344ff4e84e8ca4f1b288d21a04fa7d">numpasses</a> == 1);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a353681dc9db06e1597758c1f64b4a593">last_example_counter</a> = ec.<a class="code" href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example_counter</a>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="stagewise__poly_8cc.html#af3833856e1bd1d9b02990a8408b45c0a">predict</a>(poly, base, ec);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="ttc" id="structexample_html_ad424234c2abebdd161ad8d7c5052d2b3"><div class="ttname"><a href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example::example_counter</a></div><div class="ttdeci">size_t example_counter</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00065">example.h:65</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a0a114d384368673737a70a5091a6362c"><div class="ttname"><a href="stagewise__poly_8cc.html#a0a114d384368673737a70a5091a6362c">synthetic_create</a></div><div class="ttdeci">void synthetic_create(stagewise_poly &amp;poly, example &amp;ec, bool training)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00473">stagewise_poly.cc:473</a></div></div>
<div class="ttc" id="unionpolyprediction_html_ae29f42559acac5a2b08322a7fe887f04"><div class="ttname"><a href="unionpolyprediction.html#ae29f42559acac5a2b08322a7fe887f04">polyprediction::scalar</a></div><div class="ttdeci">float scalar</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00045">example.h:45</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a7f461f5e4733131f479c4c4ed4a079bb"><div class="ttname"><a href="stagewise__poly_8cc.html#a7f461f5e4733131f479c4c4ed4a079bb">sort_data_update_support</a></div><div class="ttdeci">void sort_data_update_support(stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00278">stagewise_poly.cc:278</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a14d7a86293a282e66e4e22424e21778e"><div class="ttname"><a href="structstagewise__poly.html#a14d7a86293a282e66e4e22424e21778e">stagewise_poly::batch_sz</a></div><div class="ttdeci">uint32_t batch_sz</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00037">stagewise_poly.cc:37</a></div></div>
<div class="ttc" id="structexample_html_a3e4e427253321a8867a27827a3dd59c1"><div class="ttname"><a href="structexample.html#a3e4e427253321a8867a27827a3dd59c1">example::partial_prediction</a></div><div class="ttdeci">float partial_prediction</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00069">example.h:69</a></div></div>
<div class="ttc" id="structlabel__data_html_a09103f622b965d8c14f0047b53ba7fe1"><div class="ttname"><a href="structlabel__data.html#a09103f622b965d8c14f0047b53ba7fe1">label_data::label</a></div><div class="ttdeci">float label</div><div class="ttdef"><b>Definition:</b> <a href="simple__label_8h_source.html#l00012">simple_label.h:12</a></div></div>
<div class="ttc" id="structexample_html_a86c4567ec3771465b2387bdfe83eb86c"><div class="ttname"><a href="structexample.html#a86c4567ec3771465b2387bdfe83eb86c">example::updated_prediction</a></div><div class="ttdeci">float updated_prediction</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00070">example.h:70</a></div></div>
<div class="ttc" id="unionpolylabel_html_a80ff268cb4e29afddaac58174d316297"><div class="ttname"><a href="unionpolylabel.html#a80ff268cb4e29afddaac58174d316297">polylabel::simple</a></div><div class="ttdeci">label_data simple</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00027">example.h:27</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6393b309a0e1f2a0e9dab42e199176ef"><div class="ttname"><a href="structstagewise__poly.html#a6393b309a0e1f2a0e9dab42e199176ef">stagewise_poly::next_batch_sz</a></div><div class="ttdeci">uint32_t next_batch_sz</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00060">stagewise_poly.cc:60</a></div></div>
<div class="ttc" id="structvw_html_aa008bf77c7a0f5b90b21d16b3b1cf38c"><div class="ttname"><a href="structvw.html#aa008bf77c7a0f5b90b21d16b3b1cf38c">vw::training</a></div><div class="ttdeci">bool training</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00482">global_data.h:482</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a353681dc9db06e1597758c1f64b4a593"><div class="ttname"><a href="structstagewise__poly.html#a353681dc9db06e1597758c1f64b4a593">stagewise_poly::last_example_counter</a></div><div class="ttdeci">uint64_t last_example_counter</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00058">stagewise_poly.cc:58</a></div></div>
<div class="ttc" id="structvw_html_a20c2edd21794e845c4e0b3c36ea35327"><div class="ttname"><a href="structvw.html#a20c2edd21794e845c4e0b3c36ea35327">vw::all_reduce</a></div><div class="ttdeci">AllReduce * all_reduce</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00371">global_data.h:371</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aee858c16692c82eee1f5c5a44c153eb9"><div class="ttname"><a href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">stagewise_poly::original_ec</a></div><div class="ttdeci">example * original_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00055">stagewise_poly.cc:55</a></div></div>
<div class="ttc" id="structexample_html_a0c87f6e82d9c95ae42158bdbdab3acf5"><div class="ttname"><a href="structexample.html#a0c87f6e82d9c95ae42158bdbdab3acf5">example::l</a></div><div class="ttdeci">polylabel l</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00058">example.h:58</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a639fecbe85a813468996b060e20c1d6f"><div class="ttname"><a href="structstagewise__poly.html#a639fecbe85a813468996b060e20c1d6f">stagewise_poly::batch_sz_double</a></div><div class="ttdeci">bool batch_sz_double</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00038">stagewise_poly.cc:38</a></div></div>
<div class="ttc" id="structexample_html_ad1477e890371ed8253f1953d4190ba49"><div class="ttname"><a href="structexample.html#ad1477e890371ed8253f1953d4190ba49">example::pred</a></div><div class="ttdeci">polyprediction pred</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00061">example.h:61</a></div></div>
<div class="ttc" id="structLEARNER_1_1learner_html_a9984332080a6ee4730a5762e9be3a3f6"><div class="ttname"><a href="structLEARNER_1_1learner.html#a9984332080a6ee4730a5762e9be3a3f6">LEARNER::learner::learn</a></div><div class="ttdeci">void learn(E &amp;ec, size_t i=0)</div><div class="ttdef"><b>Definition:</b> <a href="learner_8h_source.html#l00156">learner.h:156</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a9a344ff4e84e8ca4f1b288d21a04fa7d"><div class="ttname"><a href="structstagewise__poly.html#a9a344ff4e84e8ca4f1b288d21a04fa7d">stagewise_poly::numpasses</a></div><div class="ttdeci">size_t numpasses</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00059">stagewise_poly.cc:59</a></div></div>
<div class="ttc" id="structstagewise__poly_html_af91f2a8b29f72cb9c9c368a27529ad14"><div class="ttname"><a href="structstagewise__poly.html#af91f2a8b29f72cb9c9c368a27529ad14">stagewise_poly::update_support</a></div><div class="ttdeci">bool update_support</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00061">stagewise_poly.cc:61</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_af3833856e1bd1d9b02990a8408b45c0a"><div class="ttname"><a href="stagewise__poly_8cc.html#af3833856e1bd1d9b02990a8408b45c0a">predict</a></div><div class="ttdeci">void predict(stagewise_poly &amp;poly, single_learner &amp;base, example &amp;ec)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00499">stagewise_poly.cc:499</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8356b52737af4820161d6161e9cd324a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t min_depths_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00171">171</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00095">do_ft_offset()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00090">stride_un_shift()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  assert(wid % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  assert(<a class="code" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a>(poly, wid) % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">return</span> poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[<a class="code" href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a>(poly, <a class="code" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a>(poly, wid)) * 2];</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a60482c162d4285b61538f8536ae18d6f"><div class="ttname"><a href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a></div><div class="ttdeci">uint64_t do_ft_offset(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00095">stagewise_poly.cc:95</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_aedeeb6036417fee8da3226519e4b7f26"><div class="ttname"><a href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a></div><div class="ttdeci">uint64_t stride_un_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00090">stagewise_poly.cc:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c37e448b33a86b6ce921f6508e00b2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void min_depths_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00178">178</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00095">do_ft_offset()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00090">stride_un_shift()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  assert(wid % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  assert(<a class="code" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a>(poly, wid) % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[<a class="code" href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a>(poly, <a class="code" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a>(poly, wid)) * 2] = depth;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a60482c162d4285b61538f8536ae18d6f"><div class="ttname"><a href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a></div><div class="ttdeci">uint64_t do_ft_offset(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00095">stagewise_poly.cc:95</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_aedeeb6036417fee8da3226519e4b7f26"><div class="ttname"><a href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a></div><div class="ttdeci">uint64_t stride_un_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00090">stagewise_poly.cc:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a889b0a61f3055a8fed838d19a9204e14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool parent_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00140">140</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00095">do_ft_offset()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00019">parent_bit</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00119">wid_mask_un_shifted()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  assert(wid % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  assert(<a class="code" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a>(poly, wid) % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">return</span> poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[<a class="code" href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a>(poly, <a class="code" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a>(poly, wid)) * 2 + 1] &amp; <a class="code" href="stagewise__poly_8cc.html#ad22a86e1e28ab2638a12ca90cb05cdae">parent_bit</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a60482c162d4285b61538f8536ae18d6f"><div class="ttname"><a href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a></div><div class="ttdeci">uint64_t do_ft_offset(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00095">stagewise_poly.cc:95</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_ad22a86e1e28ab2638a12ca90cb05cdae"><div class="ttname"><a href="stagewise__poly_8cc.html#ad22a86e1e28ab2638a12ca90cb05cdae">parent_bit</a></div><div class="ttdeci">static constexpr uint32_t parent_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00019">stagewise_poly.cc:19</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a8cdd1bb6d4a5c01754c2cb9872ee0538"><div class="ttname"><a href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a></div><div class="ttdeci">uint64_t wid_mask_un_shifted(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00119">stagewise_poly.cc:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0413f46fcafc1dda81e385c599c7151"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void parent_toggle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00147">147</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00095">do_ft_offset()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00019">parent_bit</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00119">wid_mask_un_shifted()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  assert(wid % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  assert(<a class="code" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a>(poly, wid) % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[<a class="code" href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a>(poly, <a class="code" href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a>(poly, wid)) * 2 + 1] ^= <a class="code" href="stagewise__poly_8cc.html#ad22a86e1e28ab2638a12ca90cb05cdae">parent_bit</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a60482c162d4285b61538f8536ae18d6f"><div class="ttname"><a href="stagewise__poly_8cc.html#a60482c162d4285b61538f8536ae18d6f">do_ft_offset</a></div><div class="ttdeci">uint64_t do_ft_offset(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00095">stagewise_poly.cc:95</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_ad22a86e1e28ab2638a12ca90cb05cdae"><div class="ttname"><a href="stagewise__poly_8cc.html#ad22a86e1e28ab2638a12ca90cb05cdae">parent_bit</a></div><div class="ttdeci">static constexpr uint32_t parent_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00019">stagewise_poly.cc:19</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a8cdd1bb6d4a5c01754c2cb9872ee0538"><div class="ttname"><a href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a></div><div class="ttdeci">uint64_t wid_mask_un_shifted(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00119">stagewise_poly.cc:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3833856e1bd1d9b02990a8408b45c0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void predict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceLEARNER.html#a43eb8cec4287b4ad02967d7012bbf0a3">single_learner</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structexample.html">example</a> &amp;&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00499">499</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00055">stagewise_poly::original_ec</a>, <a class="el" href="example_8h_source.html#l00069">example::partial_prediction</a>, <a class="el" href="example_8h_source.html#l00061">example::pred</a>, <a class="el" href="learner_8h_source.html#l00165">LEARNER::learner&lt; T, E &gt;::predict()</a>, <a class="el" href="example_8h_source.html#l00045">polyprediction::scalar</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00473">synthetic_create()</a>, and <a class="el" href="example_8h_source.html#l00070">example::updated_prediction</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00509">learn()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00659">stagewise_poly_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a> = &amp;ec;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#a0a114d384368673737a70a5091a6362c">synthetic_create</a>(poly, ec, <span class="keyword">false</span>);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  base.<a class="code" href="structLEARNER_1_1learner.html#a8b4f75763c0ec9a26eb5255780e782a8">predict</a>(poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  ec.<a class="code" href="structexample.html#a3e4e427253321a8867a27827a3dd59c1">partial_prediction</a> = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a3e4e427253321a8867a27827a3dd59c1">partial_prediction</a>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  ec.<a class="code" href="structexample.html#a86c4567ec3771465b2387bdfe83eb86c">updated_prediction</a> = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a86c4567ec3771465b2387bdfe83eb86c">updated_prediction</a>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  ec.<a class="code" href="structexample.html#ad1477e890371ed8253f1953d4190ba49">pred</a>.<a class="code" href="unionpolyprediction.html#ae29f42559acac5a2b08322a7fe887f04">scalar</a> = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#ad1477e890371ed8253f1953d4190ba49">pred</a>.<a class="code" href="unionpolyprediction.html#ae29f42559acac5a2b08322a7fe887f04">scalar</a>;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a0a114d384368673737a70a5091a6362c"><div class="ttname"><a href="stagewise__poly_8cc.html#a0a114d384368673737a70a5091a6362c">synthetic_create</a></div><div class="ttdeci">void synthetic_create(stagewise_poly &amp;poly, example &amp;ec, bool training)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00473">stagewise_poly.cc:473</a></div></div>
<div class="ttc" id="structLEARNER_1_1learner_html_a8b4f75763c0ec9a26eb5255780e782a8"><div class="ttname"><a href="structLEARNER_1_1learner.html#a8b4f75763c0ec9a26eb5255780e782a8">LEARNER::learner::predict</a></div><div class="ttdeci">void predict(E &amp;ec, size_t i=0)</div><div class="ttdef"><b>Definition:</b> <a href="learner_8h_source.html#l00165">learner.h:165</a></div></div>
<div class="ttc" id="unionpolyprediction_html_ae29f42559acac5a2b08322a7fe887f04"><div class="ttname"><a href="unionpolyprediction.html#ae29f42559acac5a2b08322a7fe887f04">polyprediction::scalar</a></div><div class="ttdeci">float scalar</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00045">example.h:45</a></div></div>
<div class="ttc" id="structexample_html_a3e4e427253321a8867a27827a3dd59c1"><div class="ttname"><a href="structexample.html#a3e4e427253321a8867a27827a3dd59c1">example::partial_prediction</a></div><div class="ttdeci">float partial_prediction</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00069">example.h:69</a></div></div>
<div class="ttc" id="structexample_html_a86c4567ec3771465b2387bdfe83eb86c"><div class="ttname"><a href="structexample.html#a86c4567ec3771465b2387bdfe83eb86c">example::updated_prediction</a></div><div class="ttdeci">float updated_prediction</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00070">example.h:70</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aee858c16692c82eee1f5c5a44c153eb9"><div class="ttname"><a href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">stagewise_poly::original_ec</a></div><div class="ttdeci">example * original_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00055">stagewise_poly.cc:55</a></div></div>
<div class="ttc" id="structexample_html_ad1477e890371ed8253f1953d4190ba49"><div class="ttname"><a href="structexample.html#ad1477e890371ed8253f1953d4190ba49">example::pred</a></div><div class="ttdeci">polyprediction pred</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00061">example.h:61</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84f9ed2afb9cff56b948f3d6dc28e400"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reduce_min </td>
          <td>(</td>
          <td class="paramtype">uint8_t &amp;&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t &amp;&#160;</td>
          <td class="paramname"><em>v2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00545">545</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00024">default_depth</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">if</span> (v1 == <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a>)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    v1 = v2;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v2 != <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a>)</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    v1 = (v1 &lt;= v2) ? v1 : v2;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a963ff0346f8e9da6b1aa1242b8864c55"><div class="ttname"><a href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a></div><div class="ttdeci">static constexpr uint32_t default_depth</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00024">stagewise_poly.cc:24</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1d845d6701f339fa01b127ce920c0bd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reduce_min_max </td>
          <td>(</td>
          <td class="paramtype">uint8_t &amp;&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t &amp;&#160;</td>
          <td class="paramname"><em>v2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00553">553</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00024">default_depth</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00023">indicator_bit</a>.</p>
<div class="fragment"><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;{</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordtype">bool</span> parent_or_depth;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">if</span> (v1 &amp; <a class="code" href="stagewise__poly_8cc.html#a9384f4fe4228393ce09587a4a38658c9">indicator_bit</a>)</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    parent_or_depth = <span class="keyword">true</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    parent_or_depth = <span class="keyword">false</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordtype">bool</span> p_or_d2;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">if</span> (v2 &amp; indicator_bit)</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    p_or_d2 = <span class="keyword">true</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    p_or_d2 = <span class="keyword">false</span>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span> (parent_or_depth != p_or_d2)</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Reducing parent with depth!!!!!&quot;</span>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (parent_or_depth)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    v1 = (v1 &gt;= v2) ? v1 : v2;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">if</span> (v1 == <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a>)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      v1 = v2;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v2 != <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a>)</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      v1 = (v1 &lt;= v2) ? v1 : v2;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a963ff0346f8e9da6b1aa1242b8864c55"><div class="ttname"><a href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a></div><div class="ttdeci">static constexpr uint32_t default_depth</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00024">stagewise_poly.cc:24</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a9384f4fe4228393ce09587a4a38658c9"><div class="ttname"><a href="stagewise__poly_8cc.html#a9384f4fe4228393ce09587a4a38658c9">indicator_bit</a></div><div class="ttdeci">static constexpr uint32_t indicator_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00023">stagewise_poly.cc:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a376784715bc6ac2dbd4470a904402347"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sanity_check_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00186">186</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00020">cycle_bit</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00154">cycle_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00024">default_depth</a>, <a class="el" href="array__parameters_8h_source.html#l00236">parameters::dense_weights</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00023">indicator_bit</a>, <a class="el" href="global__data_8h_source.html#l00507">vw::length()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00171">min_depths_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00019">parent_bit</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00140">parent_get()</a>, <a class="el" href="array__parameters_8h_source.html#l00235">parameters::sparse</a>, <a class="el" href="array__parameters_8h_source.html#l00237">parameters::sparse_weights</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, <a class="el" href="global__data_8h_source.html#l00535">vw::weights</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00119">wid_mask_un_shifted()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00584">end_pass()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">for</span> (uint64_t i = 0; i != poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>(); ++i)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    uint64_t wid = <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, i);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    assert(!<a class="code" href="stagewise__poly_8cc.html#a606c88fbb837a9081613e71df7a53ca4">cycle_get</a>(poly, wid));</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    assert(!(<a class="code" href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a>(poly, wid) == <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a> &amp;&amp; <a class="code" href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a>(poly, wid)));</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>.<a class="code" href="classparameters.html#a83947face4285f451b42f9283ea127e8">sparse</a>)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      assert(!(<a class="code" href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a>(poly, wid) == <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a> &amp;&amp; fabsf(poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>.<a class="code" href="classparameters.html#a276f4673850e9650c1360a78c9afab97">sparse_weights</a>[wid]) &gt; 0));</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      assert(!(<a class="code" href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a>(poly, wid) == <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a> &amp;&amp; fabsf(poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>.<a class="code" href="classparameters.html#aaac8b2f50c6d9ee2946d09c9183b4029">dense_weights</a>[wid]) &gt; 0));</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// assert( min_depths_get(poly, wid) != default_depth &amp;&amp; fabsf(poly.all-&gt;weights[wid]) &lt; tolerance );</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    assert(!(poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>[<a class="code" href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a>(poly, wid) * 2 + 1] &amp; ~(<a class="code" href="stagewise__poly_8cc.html#ad22a86e1e28ab2638a12ca90cb05cdae">parent_bit</a> + <a class="code" href="stagewise__poly_8cc.html#a7bef303aa70cef243cd95c90833f149e">cycle_bit</a> + <a class="code" href="stagewise__poly_8cc.html#a9384f4fe4228393ce09587a4a38658c9">indicator_bit</a>)));</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div><div class="ttc" id="structvw_html_ab73b9bae2e902cf1278e5a3f232832fc"><div class="ttname"><a href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">vw::length</a></div><div class="ttdeci">size_t length()</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00507">global_data.h:507</a></div></div>
<div class="ttc" id="structvw_html_a8c84a43b76ba98653da4377ea827a5b4"><div class="ttname"><a href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">vw::weights</a></div><div class="ttdeci">parameters weights</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00535">global_data.h:535</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a889b0a61f3055a8fed838d19a9204e14"><div class="ttname"><a href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a></div><div class="ttdeci">bool parent_get(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00140">stagewise_poly.cc:140</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a8356b52737af4820161d6161e9cd324a"><div class="ttname"><a href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a></div><div class="ttdeci">uint8_t min_depths_get(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00171">stagewise_poly.cc:171</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a606c88fbb837a9081613e71df7a53ca4"><div class="ttname"><a href="stagewise__poly_8cc.html#a606c88fbb837a9081613e71df7a53ca4">cycle_get</a></div><div class="ttdeci">bool cycle_get(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00154">stagewise_poly.cc:154</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a7bef303aa70cef243cd95c90833f149e"><div class="ttname"><a href="stagewise__poly_8cc.html#a7bef303aa70cef243cd95c90833f149e">cycle_bit</a></div><div class="ttdeci">static constexpr uint32_t cycle_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00020">stagewise_poly.cc:20</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_ad22a86e1e28ab2638a12ca90cb05cdae"><div class="ttname"><a href="stagewise__poly_8cc.html#ad22a86e1e28ab2638a12ca90cb05cdae">parent_bit</a></div><div class="ttdeci">static constexpr uint32_t parent_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00019">stagewise_poly.cc:19</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a963ff0346f8e9da6b1aa1242b8864c55"><div class="ttname"><a href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a></div><div class="ttdeci">static constexpr uint32_t default_depth</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00024">stagewise_poly.cc:24</a></div></div>
<div class="ttc" id="classparameters_html_aaac8b2f50c6d9ee2946d09c9183b4029"><div class="ttname"><a href="classparameters.html#aaac8b2f50c6d9ee2946d09c9183b4029">parameters::dense_weights</a></div><div class="ttdeci">dense_parameters dense_weights</div><div class="ttdef"><b>Definition:</b> <a href="array__parameters_8h_source.html#l00236">array_parameters.h:236</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a9384f4fe4228393ce09587a4a38658c9"><div class="ttname"><a href="stagewise__poly_8cc.html#a9384f4fe4228393ce09587a4a38658c9">indicator_bit</a></div><div class="ttdeci">static constexpr uint32_t indicator_bit</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00023">stagewise_poly.cc:23</a></div></div>
<div class="ttc" id="classparameters_html_a276f4673850e9650c1360a78c9afab97"><div class="ttname"><a href="classparameters.html#a276f4673850e9650c1360a78c9afab97">parameters::sparse_weights</a></div><div class="ttdeci">sparse_parameters sparse_weights</div><div class="ttdef"><b>Definition:</b> <a href="array__parameters_8h_source.html#l00237">array_parameters.h:237</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a8cdd1bb6d4a5c01754c2cb9872ee0538"><div class="ttname"><a href="stagewise__poly_8cc.html#a8cdd1bb6d4a5c01754c2cb9872ee0538">wid_mask_un_shifted</a></div><div class="ttdeci">uint64_t wid_mask_un_shifted(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00119">stagewise_poly.cc:119</a></div></div>
<div class="ttc" id="classparameters_html_a83947face4285f451b42f9283ea127e8"><div class="ttname"><a href="classparameters.html#a83947face4285f451b42f9283ea127e8">parameters::sparse</a></div><div class="ttdeci">bool sparse</div><div class="ttdef"><b>Definition:</b> <a href="array__parameters_8h_source.html#l00235">array_parameters.h:235</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3e2ddb9c29c585a00005d8e404464435"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classio__buf.html">io_buf</a> &amp;&#160;</td>
          <td class="paramname"><em>model_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00642">642</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="io__buf_8h_source.html#l00324">bin_text_read_write_fixed()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00042">stagewise_poly::depthsbits</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00128">depthsbits_sizeof()</a>, <a class="el" href="io__buf_8h_source.html#l00062">io_buf::files</a>, and <a class="el" href="v__array_8h_source.html#l00066">v_array&lt; T &gt;::size()</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00659">stagewise_poly_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">if</span> (model_file.<a class="code" href="classio__buf.html#a2126363251fc091d8ed2356b7c50f551">files</a>.<a class="code" href="structv__array.html#a903166906624e9e31efe5d1df9bcb092">size</a>() &gt; 0)</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    std::stringstream msg;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="io__buf_8h.html#a317681947f2ac8ceda45d4b16e852225">bin_text_read_write_fixed</a>(</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        model_file, (<span class="keywordtype">char</span> *)poly.<a class="code" href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">depthsbits</a>, (uint32_t)<a class="code" href="stagewise__poly_8cc.html#a63eb2c97ba6663d5f8b3568d958cf0eb">depthsbits_sizeof</a>(poly), <span class="stringliteral">&quot;&quot;</span>, read, msg, text);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// unfortunately, following can&#39;t go here since save_load called before gd::save_load and thus</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// weight vector state uninitialiazed.</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">//#ifdef DEBUG</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">//      std::cout &lt;&lt; &quot;Sanity check after save_load... &quot; &lt;&lt; flush;</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">//      sanity_check_state(poly);</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">//      std::cout &lt;&lt; &quot;done&quot; &lt;&lt; std::endl;</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">//#endif //DEBUG</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a63eb2c97ba6663d5f8b3568d958cf0eb"><div class="ttname"><a href="stagewise__poly_8cc.html#a63eb2c97ba6663d5f8b3568d958cf0eb">depthsbits_sizeof</a></div><div class="ttdeci">size_t depthsbits_sizeof(const stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00128">stagewise_poly.cc:128</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a58ee19490af90b52da3555d64caa5bd0"><div class="ttname"><a href="structstagewise__poly.html#a58ee19490af90b52da3555d64caa5bd0">stagewise_poly::depthsbits</a></div><div class="ttdeci">uint8_t * depthsbits</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00042">stagewise_poly.cc:42</a></div></div>
<div class="ttc" id="classio__buf_html_a2126363251fc091d8ed2356b7c50f551"><div class="ttname"><a href="classio__buf.html#a2126363251fc091d8ed2356b7c50f551">io_buf::files</a></div><div class="ttdeci">v_array&lt; int &gt; files</div><div class="ttdef"><b>Definition:</b> <a href="io__buf_8h_source.html#l00062">io_buf.h:62</a></div></div>
<div class="ttc" id="structv__array_html_a903166906624e9e31efe5d1df9bcb092"><div class="ttname"><a href="structv__array.html#a903166906624e9e31efe5d1df9bcb092">v_array::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="v__array_8h_source.html#l00066">v_array.h:66</a></div></div>
<div class="ttc" id="io__buf_8h_html_a317681947f2ac8ceda45d4b16e852225"><div class="ttname"><a href="io__buf_8h.html#a317681947f2ac8ceda45d4b16e852225">bin_text_read_write_fixed</a></div><div class="ttdeci">size_t bin_text_read_write_fixed(io_buf &amp;io, char *data, size_t len, const char *read_message, bool read, std::stringstream &amp;msg, bool text)</div><div class="ttdef"><b>Definition:</b> <a href="io__buf_8h_source.html#l00324">io_buf.h:324</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03e8fa5cbbfe1de4897f5c94de32f5f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sort_data_compar_heap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsort__data.html">sort_data</a> &amp;&#160;</td>
          <td class="paramname"><em>a_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsort__data.html">sort_data</a> &amp;&#160;</td>
          <td class="paramname"><em>b_v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00263">263</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00028">sort_data::weightsal</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{ <span class="keywordflow">return</span> (a_v.<a class="code" href="structsort__data.html#ac527d495c7875b87389e2fb0e1fcf17a">weightsal</a> &gt; b_v.<a class="code" href="structsort__data.html#ac527d495c7875b87389e2fb0e1fcf17a">weightsal</a>); }</div><div class="ttc" id="structsort__data_html_ac527d495c7875b87389e2fb0e1fcf17a"><div class="ttname"><a href="structsort__data.html#ac527d495c7875b87389e2fb0e1fcf17a">sort_data::weightsal</a></div><div class="ttdeci">float weightsal</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00028">stagewise_poly.cc:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a48601d1208c0a330d01133c05e5dccc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sort_data_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00232">232</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00040">stagewise_poly::sd</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00041">stagewise_poly::sd_len</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00659">stagewise_poly_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a> = 0;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="structstagewise__poly_html_a43e3f788530cf502c619f0942d62ce80"><div class="ttname"><a href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">stagewise_poly::sd</a></div><div class="ttdeci">sort_data * sd</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00040">stagewise_poly.cc:40</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aa25f1d3f2ca37d43a2cc1f9d758f1513"><div class="ttname"><a href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">stagewise_poly::sd_len</a></div><div class="ttdeci">size_t sd_len</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00041">stagewise_poly.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0bfb09913d2fd87240114542f04cc237"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sort_data_ensure_sz </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00238">238</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="global__data_8h_source.html#l00507">vw::length()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00040">stagewise_poly::sd</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00041">stagewise_poly::sd_len</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">if</span> (poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a> &lt; len)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">size_t</span> len_candidate = 2 * len;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;resizing sort buffer; current size &quot;</span> &lt;&lt; poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a> = (len_candidate &gt; poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>()) ? poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>() : len_candidate;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;, new size &quot;</span> &lt;&lt; poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a> &lt;&lt; std::endl;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">#endif              // DEBUG</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    free(poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>);  <span class="comment">// okay for null.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a> = calloc_or_throw&lt;sort_data&gt;(poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  assert(len &lt;= poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div><div class="ttc" id="structvw_html_ab73b9bae2e902cf1278e5a3f232832fc"><div class="ttname"><a href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">vw::length</a></div><div class="ttdeci">size_t length()</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00507">global_data.h:507</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a43e3f788530cf502c619f0942d62ce80"><div class="ttname"><a href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">stagewise_poly::sd</a></div><div class="ttdeci">sort_data * sd</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00040">stagewise_poly.cc:40</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aa25f1d3f2ca37d43a2cc1f9d758f1513"><div class="ttname"><a href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">stagewise_poly::sd_len</a></div><div class="ttdeci">size_t sd_len</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00041">stagewise_poly.cc:41</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7f461f5e4733131f479c4c4ed4a079bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sort_data_update_support </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00278">278</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00126">constant_feat_masked()</a>, <a class="el" href="example__predict_8h_source.html#l00040">example_predict::ft_offset</a>, <a class="el" href="global__data_8h_source.html#l00507">vw::length()</a>, <a class="el" href="global__data_8h_source.html#l00500">vw::normalized_idx</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00046">stagewise_poly::num_examples</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00055">stagewise_poly::original_ec</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00140">parent_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00147">parent_toggle()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00036">stagewise_poly::sched_exponent</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00040">stagewise_poly::sd</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00041">stagewise_poly::sd_len</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00263">sort_data_compar_heap()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00238">sort_data_ensure_sz()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00045">stagewise_poly::sum_input_sparsity</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00022">tolerance</a>, <a class="el" href="global__data_8h_source.html#l00535">vw::weights</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00028">sort_data::weightsal</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00029">sort_data::wid</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00509">learn()</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  assert(poly.<a class="code" href="structstagewise__poly.html#a511ecd9de9bbd0d51bf3e86b57fed4b6">num_examples</a>);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// ft_offset affects parent_set / parent_get.  This state must be reset at end.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  uint64_t pop_ft_offset = poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a>-&gt;<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a> = 0;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  assert(poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a>-&gt;<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a> = 0;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordtype">size_t</span> num_new_features = (size_t)pow(poly.<a class="code" href="structstagewise__poly.html#ae100c8e43f6d1331f71fe858eb090050">sum_input_sparsity</a> * 1.0f / poly.<a class="code" href="structstagewise__poly.html#a511ecd9de9bbd0d51bf3e86b57fed4b6">num_examples</a>, poly.<a class="code" href="structstagewise__poly.html#af608f546fd1e21bcbfd9dbd0b762ceb3">sched_exponent</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  num_new_features = (num_new_features &gt; poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>()) ? (uint64_t)poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>() : num_new_features;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#a0bfb09913d2fd87240114542f04cc237">sort_data_ensure_sz</a>(poly, num_new_features);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="structsort__data.html">sort_data</a> *heap_end = poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  std::make_heap(poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>, heap_end, <a class="code" href="stagewise__poly_8cc.html#a03e8fa5cbbfe1de4897f5c94de32f5f1">sort_data_compar_heap</a>);  <span class="comment">// redundant</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">for</span> (uint64_t i = 0; i != poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>(); ++i)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    uint64_t wid = <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, i);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a>(poly, wid) &amp;&amp; wid != <a class="code" href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a>(poly))</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordtype">float</span> weightsal = (fabsf(poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>[wid]) * poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>[poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ad7062a07e5af79d245edd2f3b68a525a">normalized_idx</a> + (wid)]);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">       * here&#39;s some depth penalization code.  It was found to not improve</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">       * statistical performance, and meanwhile it is verified as giving</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">       * a nontrivial computational hit, thus commented out.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">       * - poly.magic_argument</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">       * sqrtf(min_depths_get(poly, stride_shift(poly, i)) * 1.0 / poly.num_examples)</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      ;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">if</span> (weightsal &gt; <a class="code" href="stagewise__poly_8cc.html#a786da50faf577687b38b88863257d571">tolerance</a>)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        assert(heap_end &gt;= poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        assert(heap_end &lt;= poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a> + num_new_features);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">if</span> (heap_end - poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a> == (<span class="keywordtype">int</span>)num_new_features &amp;&amp; poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>-&gt;<a class="code" href="structsort__data.html#ac527d495c7875b87389e2fb0e1fcf17a">weightsal</a> &lt; weightsal)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;          std::pop_heap(poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>, heap_end, <a class="code" href="stagewise__poly_8cc.html#a03e8fa5cbbfe1de4897f5c94de32f5f1">sort_data_compar_heap</a>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          --heap_end;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        assert(heap_end &gt;= poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        assert(heap_end &lt; poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a> + poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span> (heap_end - poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a> &lt; (<span class="keywordtype">int</span>)num_new_features)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;          heap_end-&gt;<a class="code" href="structsort__data.html#ac527d495c7875b87389e2fb0e1fcf17a">weightsal</a> = weightsal;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          heap_end-&gt;<a class="code" href="structsort__data.html#aabab1b4afbdd200da02c52b39c98cc31">wid</a> = wid;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          ++heap_end;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          std::push_heap(poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>, heap_end, <a class="code" href="stagewise__poly_8cc.html#a03e8fa5cbbfe1de4897f5c94de32f5f1">sort_data_compar_heap</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  num_new_features = (uint64_t)(heap_end - poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// eyeballing weights a pain if unsorted.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  qsort(poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>, num_new_features, <span class="keyword">sizeof</span>(<a class="code" href="structsort__data.html">sort_data</a>), sort_data_compar);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">for</span> (uint64_t pos = 0; pos &lt; num_new_features &amp;&amp; pos &lt; poly.<a class="code" href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">sd_len</a>; ++pos)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    assert(!<a class="code" href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a>(poly, poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>[pos].<a class="code" href="structsort__data.html#aabab1b4afbdd200da02c52b39c98cc31">wid</a>) &amp;&amp; poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>[pos].<a class="code" href="structsort__data.html#ac527d495c7875b87389e2fb0e1fcf17a">weightsal</a> &gt; <a class="code" href="stagewise__poly_8cc.html#a786da50faf577687b38b88863257d571">tolerance</a> &amp;&amp;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>[pos].<a class="code" href="structsort__data.html#aabab1b4afbdd200da02c52b39c98cc31">wid</a> != <a class="code" href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a>(poly));</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="stagewise__poly_8cc.html#ad0413f46fcafc1dda81e385c599c7151">parent_toggle</a>(poly, poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>[pos].<a class="code" href="structsort__data.html#aabab1b4afbdd200da02c52b39c98cc31">wid</a>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Adding feature &quot;</span> &lt;&lt; pos &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; num_new_features &lt;&lt; <span class="stringliteral">&quot; || wid &quot;</span> &lt;&lt; poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>[pos].<a class="code" href="structsort__data.html#aabab1b4afbdd200da02c52b39c98cc31">wid</a></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; || sort value &quot;</span> &lt;&lt; poly.<a class="code" href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">sd</a>[pos].<a class="code" href="structsort__data.html#ac527d495c7875b87389e2fb0e1fcf17a">weightsal</a> &lt;&lt; std::endl;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;depths:&quot;</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">for</span> (uint64_t depth = 0; depth &lt;= poly.max_depth &amp;&amp; depth &lt; <span class="keyword">sizeof</span>(poly.depths) / <span class="keyword">sizeof</span>(*poly.depths); ++depth)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  [&quot;</span> &lt;&lt; depth &lt;&lt; <span class="stringliteral">&quot;] = &quot;</span> &lt;&lt; poly.depths[depth];</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  std::cout &lt;&lt; std::endl;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Sanity check after sort... &quot;</span> &lt;&lt; flush;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#a376784715bc6ac2dbd4470a904402347">sanity_check_state</a>(poly);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;done&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// it&#39;s okay that these may have been initially unequal; synth_ec value irrelevant so far.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a>-&gt;<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a> = pop_ft_offset;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a> = pop_ft_offset;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a376784715bc6ac2dbd4470a904402347"><div class="ttname"><a href="stagewise__poly_8cc.html#a376784715bc6ac2dbd4470a904402347">sanity_check_state</a></div><div class="ttdeci">void sanity_check_state(stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00186">stagewise_poly.cc:186</a></div></div>
<div class="ttc" id="structvw_html_ab73b9bae2e902cf1278e5a3f232832fc"><div class="ttname"><a href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">vw::length</a></div><div class="ttdeci">size_t length()</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00507">global_data.h:507</a></div></div>
<div class="ttc" id="structvw_html_a8c84a43b76ba98653da4377ea827a5b4"><div class="ttname"><a href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">vw::weights</a></div><div class="ttdeci">parameters weights</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00535">global_data.h:535</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a43e3f788530cf502c619f0942d62ce80"><div class="ttname"><a href="structstagewise__poly.html#a43e3f788530cf502c619f0942d62ce80">stagewise_poly::sd</a></div><div class="ttdeci">sort_data * sd</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00040">stagewise_poly.cc:40</a></div></div>
<div class="ttc" id="structexample__predict_html_a964a7741ec79edbb2e7e2298ffdd767a"><div class="ttname"><a href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">example_predict::ft_offset</a></div><div class="ttdeci">uint64_t ft_offset</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00040">example_predict.h:40</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a889b0a61f3055a8fed838d19a9204e14"><div class="ttname"><a href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a></div><div class="ttdeci">bool parent_get(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00140">stagewise_poly.cc:140</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="structvw_html_ad7062a07e5af79d245edd2f3b68a525a"><div class="ttname"><a href="structvw.html#ad7062a07e5af79d245edd2f3b68a525a">vw::normalized_idx</a></div><div class="ttdeci">size_t normalized_idx</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00500">global_data.h:500</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a511ecd9de9bbd0d51bf3e86b57fed4b6"><div class="ttname"><a href="structstagewise__poly.html#a511ecd9de9bbd0d51bf3e86b57fed4b6">stagewise_poly::num_examples</a></div><div class="ttdeci">uint64_t num_examples</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00046">stagewise_poly.cc:46</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a03e8fa5cbbfe1de4897f5c94de32f5f1"><div class="ttname"><a href="stagewise__poly_8cc.html#a03e8fa5cbbfe1de4897f5c94de32f5f1">sort_data_compar_heap</a></div><div class="ttdeci">int sort_data_compar_heap(sort_data &amp;a_v, sort_data &amp;b_v)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00263">stagewise_poly.cc:263</a></div></div>
<div class="ttc" id="structsort__data_html"><div class="ttname"><a href="structsort__data.html">sort_data</a></div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00026">stagewise_poly.cc:26</a></div></div>
<div class="ttc" id="structstagewise__poly_html_ae100c8e43f6d1331f71fe858eb090050"><div class="ttname"><a href="structstagewise__poly.html#ae100c8e43f6d1331f71fe858eb090050">stagewise_poly::sum_input_sparsity</a></div><div class="ttdeci">uint64_t sum_input_sparsity</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00045">stagewise_poly.cc:45</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a786da50faf577687b38b88863257d571"><div class="ttname"><a href="stagewise__poly_8cc.html#a786da50faf577687b38b88863257d571">tolerance</a></div><div class="ttdeci">static constexpr float tolerance</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00022">stagewise_poly.cc:22</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_ad0413f46fcafc1dda81e385c599c7151"><div class="ttname"><a href="stagewise__poly_8cc.html#ad0413f46fcafc1dda81e385c599c7151">parent_toggle</a></div><div class="ttdeci">void parent_toggle(stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00147">stagewise_poly.cc:147</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aee858c16692c82eee1f5c5a44c153eb9"><div class="ttname"><a href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">stagewise_poly::original_ec</a></div><div class="ttdeci">example * original_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00055">stagewise_poly.cc:55</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aa25f1d3f2ca37d43a2cc1f9d758f1513"><div class="ttname"><a href="structstagewise__poly.html#aa25f1d3f2ca37d43a2cc1f9d758f1513">stagewise_poly::sd_len</a></div><div class="ttdeci">size_t sd_len</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00041">stagewise_poly.cc:41</a></div></div>
<div class="ttc" id="structsort__data_html_ac527d495c7875b87389e2fb0e1fcf17a"><div class="ttname"><a href="structsort__data.html#ac527d495c7875b87389e2fb0e1fcf17a">sort_data::weightsal</a></div><div class="ttdeci">float weightsal</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00028">stagewise_poly.cc:28</a></div></div>
<div class="ttc" id="structsort__data_html_aabab1b4afbdd200da02c52b39c98cc31"><div class="ttname"><a href="structsort__data.html#aabab1b4afbdd200da02c52b39c98cc31">sort_data::wid</a></div><div class="ttdeci">uint64_t wid</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00029">stagewise_poly.cc:29</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a50c8040bbfb52f57236d6c97244d9f88"><div class="ttname"><a href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a></div><div class="ttdeci">uint64_t constant_feat_masked(const stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00126">stagewise_poly.cc:126</a></div></div>
<div class="ttc" id="structstagewise__poly_html_af608f546fd1e21bcbfd9dbd0b762ceb3"><div class="ttname"><a href="structstagewise__poly.html#af608f546fd1e21bcbfd9dbd0b762ceb3">stagewise_poly::sched_exponent</a></div><div class="ttdeci">float sched_exponent</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00036">stagewise_poly.cc:36</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a0bfb09913d2fd87240114542f04cc237"><div class="ttname"><a href="stagewise__poly_8cc.html#a0bfb09913d2fd87240114542f04cc237">sort_data_ensure_sz</a></div><div class="ttdeci">void sort_data_ensure_sz(stagewise_poly &amp;poly, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00238">stagewise_poly.cc:238</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8036ea8928580ed7c85d0fceac95a711"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceLEARNER.html#a807843d5185e0c5005a54bf28c111c79">base_learner</a>* stagewise_poly_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVW_1_1config_1_1options__i.html">options_i</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvw.html">vw</a> &amp;&#160;</td>
          <td class="paramname"><em>all</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00659">659</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="options_8h_source.html#l00105">VW::config::option_group_definition::add()</a>, <a class="el" href="kernel__svm_8cc_source.html#l00540">add()</a>, <a class="el" href="structVW_1_1config_1_1options__i.html#a93c0de6c3ad57f6fb57441af2c908ba5">VW::config::options_i::add_and_parse()</a>, <a class="el" href="learner_8h_source.html#l00472">LEARNER::as_singleline()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00130">depthsbits_create()</a>, <a class="el" href="learner_8cc_source.html#l00047">LEARNER::end_pass()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00633">finish_example()</a>, <a class="el" href="learner_8h_source.html#l00365">LEARNER::init_learner()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00509">learn()</a>, <a class="el" href="learner_8h_source.html#l00458">LEARNER::make_base()</a>, <a class="el" href="options_8h_source.html#l00095">VW::config::make_option()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00499">predict()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00642">save_load()</a>, <a class="el" href="learner_8h_source.html#l00282">LEARNER::learner&lt; T, E &gt;::set_end_pass()</a>, <a class="el" href="learner_8h_source.html#l00303">LEARNER::learner&lt; T, E &gt;::set_finish_example()</a>, <a class="el" href="learner_8h_source.html#l00253">LEARNER::learner&lt; T, E &gt;::set_save_load()</a>, <a class="el" href="parse__args_8cc_source.html#l01224">setup_base()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00232">sort_data_create()</a>.</p>

<p>Referenced by <a class="el" href="parse__args_8cc_source.html#l01236">parse_reductions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keyword">auto</span> poly = scoped_calloc_or_throw&lt;stagewise_poly&gt;();</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordtype">bool</span> stage_poly = <span class="keyword">false</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="structVW_1_1config_1_1option__group__definition.html">option_group_definition</a> new_options(<span class="stringliteral">&quot;Stagewise polynomial options&quot;</span>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  new_options.add(<a class="code" href="namespaceVW_1_1config.html#ae768389a49d24d07215612b2f824d520">make_option</a>(<span class="stringliteral">&quot;stage_poly&quot;</span>, stage_poly).keep().help(<span class="stringliteral">&quot;use stagewise polynomial feature learning&quot;</span>))</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      .add(<a class="code" href="namespaceVW_1_1config.html#ae768389a49d24d07215612b2f824d520">make_option</a>(<span class="stringliteral">&quot;sched_exponent&quot;</span>, poly-&gt;sched_exponent)</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;               .default_value(1.f)</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;               .help(<span class="stringliteral">&quot;exponent controlling quantity of included features&quot;</span>))</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      .<a class="code" href="kernel__svm_8cc.html#a907b9ad55bf6f8e61a6385bc9599fc0f">add</a>(<a class="code" href="namespaceVW_1_1config.html#ae768389a49d24d07215612b2f824d520">make_option</a>(<span class="stringliteral">&quot;batch_sz&quot;</span>, poly-&gt;batch_sz)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;               .default_value(1000)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;               .help(<span class="stringliteral">&quot;multiplier on batch size before including more features&quot;</span>))</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      .<a class="code" href="kernel__svm_8cc.html#a907b9ad55bf6f8e61a6385bc9599fc0f">add</a>(<a class="code" href="namespaceVW_1_1config.html#ae768389a49d24d07215612b2f824d520">make_option</a>(<span class="stringliteral">&quot;batch_sz_no_doubling&quot;</span>, poly-&gt;batch_sz_double).help(<span class="stringliteral">&quot;batch_sz does not double&quot;</span>));</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="preprocessor">#ifdef MAGIC_ARGUMENT</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  new_options.add(</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      make_typed_option(<span class="stringliteral">&quot;magic_argument&quot;</span>, poly-&gt;magic_argument).default_value(0.).help(<span class="stringliteral">&quot;magical feature flag&quot;</span>));</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="preprocessor">#endif  // MAGIC_ARGUMENT</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  options.<a class="code" href="structVW_1_1config_1_1options__i.html#a93c0de6c3ad57f6fb57441af2c908ba5">add_and_parse</a>(new_options);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span> (!stage_poly)</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  poly-&gt;all = &amp;all;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#aeb8bc0c2112efb838fd84769680b602c">depthsbits_create</a>(*poly.get());</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#a48601d1208c0a330d01133c05e5dccc2">sort_data_create</a>(*poly.get());</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  poly-&gt;batch_sz_double = !poly-&gt;batch_sz_double;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  poly-&gt;sum_sparsity = 0;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  poly-&gt;sum_input_sparsity = 0;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  poly-&gt;num_examples = 0;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  poly-&gt;sum_sparsity_sync = 0;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  poly-&gt;sum_input_sparsity_sync = 0;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  poly-&gt;num_examples_sync = 0;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  poly-&gt;last_example_counter = -1;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  poly-&gt;numpasses = 1;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  poly-&gt;update_support = <span class="keyword">false</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  poly-&gt;original_ec = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  poly-&gt;next_batch_sz = poly-&gt;batch_sz;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <a class="code" href="structLEARNER_1_1learner.html">learner&lt;stagewise_poly, example&gt;</a> &amp;l = <a class="code" href="namespaceLEARNER.html#a6a3dd62d10a87e9124f8ae65a2a7265a">init_learner</a>(poly, <a class="code" href="namespaceLEARNER.html#abd71c87941b752738319b3d1ed64fe47">as_singleline</a>(<a class="code" href="parse__args_8cc.html#a34c806099b7857a0ffc630bc8142beba">setup_base</a>(options, all)), <a class="code" href="stagewise__poly_8cc.html#a5d47a7017b0546e15dcd1cc2af22e244">learn</a>, <a class="code" href="stagewise__poly_8cc.html#af3833856e1bd1d9b02990a8408b45c0a">predict</a>);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  l.<a class="code" href="structLEARNER_1_1learner.html#a144e508faabaa6fb833330f678f350c1">set_save_load</a>(<a class="code" href="stagewise__poly_8cc.html#a3e2ddb9c29c585a00005d8e404464435">save_load</a>);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  l.<a class="code" href="structLEARNER_1_1learner.html#a459cdbfe2232f11e6c73933961af97e1">set_finish_example</a>(<a class="code" href="stagewise__poly_8cc.html#ac32581cdaab2dbe05d058e8fbd34a95f">finish_example</a>);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  l.<a class="code" href="structLEARNER_1_1learner.html#a5267864868d93658202276d6ecce0d8b">set_end_pass</a>(<a class="code" href="stagewise__poly_8cc.html#a5e7a519c254b05e49f972e8091be3541">end_pass</a>);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceLEARNER.html#abcf6bdc2fa5e38928c33212e20dbbd74">make_base</a>(l);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_ac32581cdaab2dbe05d058e8fbd34a95f"><div class="ttname"><a href="stagewise__poly_8cc.html#ac32581cdaab2dbe05d058e8fbd34a95f">finish_example</a></div><div class="ttdeci">void finish_example(vw &amp;all, stagewise_poly &amp;poly, example &amp;ec)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00633">stagewise_poly.cc:633</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a48601d1208c0a330d01133c05e5dccc2"><div class="ttname"><a href="stagewise__poly_8cc.html#a48601d1208c0a330d01133c05e5dccc2">sort_data_create</a></div><div class="ttdeci">void sort_data_create(stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00232">stagewise_poly.cc:232</a></div></div>
<div class="ttc" id="namespaceLEARNER_html_abcf6bdc2fa5e38928c33212e20dbbd74"><div class="ttname"><a href="namespaceLEARNER.html#abcf6bdc2fa5e38928c33212e20dbbd74">LEARNER::make_base</a></div><div class="ttdeci">base_learner * make_base(learner&lt; T, E &gt; &amp;base)</div><div class="ttdef"><b>Definition:</b> <a href="learner_8h_source.html#l00458">learner.h:458</a></div></div>
<div class="ttc" id="structVW_1_1config_1_1option__group__definition_html"><div class="ttname"><a href="structVW_1_1config_1_1option__group__definition.html">VW::config::option_group_definition</a></div><div class="ttdef"><b>Definition:</b> <a href="options_8h_source.html#l00100">options.h:100</a></div></div>
<div class="ttc" id="structVW_1_1config_1_1options__i_html_a93c0de6c3ad57f6fb57441af2c908ba5"><div class="ttname"><a href="structVW_1_1config_1_1options__i.html#a93c0de6c3ad57f6fb57441af2c908ba5">VW::config::options_i::add_and_parse</a></div><div class="ttdeci">virtual void add_and_parse(const option_group_definition &amp;group)=0</div></div>
<div class="ttc" id="structLEARNER_1_1learner_html_a144e508faabaa6fb833330f678f350c1"><div class="ttname"><a href="structLEARNER_1_1learner.html#a144e508faabaa6fb833330f678f350c1">LEARNER::learner::set_save_load</a></div><div class="ttdeci">void set_save_load(void(*sl)(T &amp;, io_buf &amp;, bool, bool))</div><div class="ttdef"><b>Definition:</b> <a href="learner_8h_source.html#l00253">learner.h:253</a></div></div>
<div class="ttc" id="structLEARNER_1_1learner_html"><div class="ttname"><a href="structLEARNER_1_1learner.html">LEARNER::learner</a></div><div class="ttdef"><b>Definition:</b> <a href="cb__explore_8h_source.html#l00010">cb_explore.h:10</a></div></div>
<div class="ttc" id="namespaceLEARNER_html_abd71c87941b752738319b3d1ed64fe47"><div class="ttname"><a href="namespaceLEARNER.html#abd71c87941b752738319b3d1ed64fe47">LEARNER::as_singleline</a></div><div class="ttdeci">single_learner * as_singleline(learner&lt; T, E &gt; *l)</div><div class="ttdef"><b>Definition:</b> <a href="learner_8h_source.html#l00472">learner.h:472</a></div></div>
<div class="ttc" id="structLEARNER_1_1learner_html_a459cdbfe2232f11e6c73933961af97e1"><div class="ttname"><a href="structLEARNER_1_1learner.html#a459cdbfe2232f11e6c73933961af97e1">LEARNER::learner::set_finish_example</a></div><div class="ttdeci">void set_finish_example(void(*f)(vw &amp;all, T &amp;, E &amp;))</div><div class="ttdef"><b>Definition:</b> <a href="learner_8h_source.html#l00303">learner.h:303</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a3e2ddb9c29c585a00005d8e404464435"><div class="ttname"><a href="stagewise__poly_8cc.html#a3e2ddb9c29c585a00005d8e404464435">save_load</a></div><div class="ttdeci">void save_load(stagewise_poly &amp;poly, io_buf &amp;model_file, bool read, bool text)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00642">stagewise_poly.cc:642</a></div></div>
<div class="ttc" id="kernel__svm_8cc_html_a907b9ad55bf6f8e61a6385bc9599fc0f"><div class="ttname"><a href="kernel__svm_8cc.html#a907b9ad55bf6f8e61a6385bc9599fc0f">add</a></div><div class="ttdeci">int add(svm_params &amp;params, svm_example *fec)</div><div class="ttdef"><b>Definition:</b> <a href="kernel__svm_8cc_source.html#l00540">kernel_svm.cc:540</a></div></div>
<div class="ttc" id="namespaceVW_1_1config_html_ae768389a49d24d07215612b2f824d520"><div class="ttname"><a href="namespaceVW_1_1config.html#ae768389a49d24d07215612b2f824d520">VW::config::make_option</a></div><div class="ttdeci">typed_option&lt; T &gt; make_option(std::string name, T &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="options_8h_source.html#l00095">options.h:95</a></div></div>
<div class="ttc" id="structLEARNER_1_1learner_html_a5267864868d93658202276d6ecce0d8b"><div class="ttname"><a href="structLEARNER_1_1learner.html#a5267864868d93658202276d6ecce0d8b">LEARNER::learner::set_end_pass</a></div><div class="ttdeci">void set_end_pass(void(*f)(T &amp;))</div><div class="ttdef"><b>Definition:</b> <a href="learner_8h_source.html#l00282">learner.h:282</a></div></div>
<div class="ttc" id="namespaceLEARNER_html_a6a3dd62d10a87e9124f8ae65a2a7265a"><div class="ttname"><a href="namespaceLEARNER.html#a6a3dd62d10a87e9124f8ae65a2a7265a">LEARNER::init_learner</a></div><div class="ttdeci">learner&lt; T, E &gt; &amp; init_learner(free_ptr&lt; T &gt; &amp;dat, L *base, void(*learn)(T &amp;, L &amp;, E &amp;), void(*predict)(T &amp;, L &amp;, E &amp;), size_t ws, prediction_type_t pred_type)</div><div class="ttdef"><b>Definition:</b> <a href="learner_8h_source.html#l00365">learner.h:365</a></div></div>
<div class="ttc" id="parse__args_8cc_html_a34c806099b7857a0ffc630bc8142beba"><div class="ttname"><a href="parse__args_8cc.html#a34c806099b7857a0ffc630bc8142beba">setup_base</a></div><div class="ttdeci">LEARNER::base_learner * setup_base(options_i &amp;options, vw &amp;all)</div><div class="ttdef"><b>Definition:</b> <a href="parse__args_8cc_source.html#l01224">parse_args.cc:1224</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_aeb8bc0c2112efb838fd84769680b602c"><div class="ttname"><a href="stagewise__poly_8cc.html#aeb8bc0c2112efb838fd84769680b602c">depthsbits_create</a></div><div class="ttdeci">void depthsbits_create(stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00130">stagewise_poly.cc:130</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a5e7a519c254b05e49f972e8091be3541"><div class="ttname"><a href="stagewise__poly_8cc.html#a5e7a519c254b05e49f972e8091be3541">end_pass</a></div><div class="ttdeci">void end_pass(stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00584">stagewise_poly.cc:584</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a5d47a7017b0546e15dcd1cc2af22e244"><div class="ttname"><a href="stagewise__poly_8cc.html#a5d47a7017b0546e15dcd1cc2af22e244">learn</a></div><div class="ttdeci">void learn(stagewise_poly &amp;poly, single_learner &amp;base, example &amp;ec)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00509">stagewise_poly.cc:509</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_af3833856e1bd1d9b02990a8408b45c0a"><div class="ttname"><a href="stagewise__poly_8cc.html#af3833856e1bd1d9b02990a8408b45c0a">predict</a></div><div class="ttdeci">void predict(stagewise_poly &amp;poly, single_learner &amp;base, example &amp;ec)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00499">stagewise_poly.cc:499</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4fca0a9f0d667bbe422056d4c7153077"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t stride_shift </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00085">85</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="array__parameters_8h_source.html#l00247">parameters::stride_shift()</a>, and <a class="el" href="global__data_8h_source.html#l00535">vw::weights</a>.</p>

<p>Referenced by <a class="el" href="search_8cc_source.html#l00645">Search::add_neighbor_features()</a>, <a class="el" href="gd_8cc_source.html#l00233">GD::audit_feature()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00209">child_wid()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00124">constant_feat()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00154">cycle_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00164">cycle_toggle()</a>, <a class="el" href="parser_8cc_source.html#l00852">VW::export_example()</a>, <a class="el" href="lda__core_8cc_source.html#l01010">learn_with_metrics()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00171">min_depths_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00178">min_depths_set()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00140">parent_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00147">parent_toggle()</a>, <a class="el" href="lrq_8cc_source.html#l00053">predict_or_learn()</a>, <a class="el" href="mwt_8cc_source.html#l00080">MWT::predict_or_learn()</a>, <a class="el" href="gd_8cc_source.html#l00272">GD::print_lda_features()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>, <a class="el" href="marginal_8cc_source.html#l00243">MARGINAL::save_load()</a>, <a class="el" href="bfgs_8cc_source.html#l01024">save_load()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>, <a class="el" href="array__parameters_8h_source.html#l00202">sparse_parameters::stride_shift()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">return</span> idx &lt;&lt; poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>.<a class="code" href="classparameters.html#acfa565410aa0c9776d6c05552430fd7c">stride_shift</a>();</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="ttc" id="structvw_html_a8c84a43b76ba98653da4377ea827a5b4"><div class="ttname"><a href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">vw::weights</a></div><div class="ttdeci">parameters weights</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00535">global_data.h:535</a></div></div>
<div class="ttc" id="classparameters_html_acfa565410aa0c9776d6c05552430fd7c"><div class="ttname"><a href="classparameters.html#acfa565410aa0c9776d6c05552430fd7c">parameters::stride_shift</a></div><div class="ttdeci">uint32_t stride_shift()</div><div class="ttdef"><b>Definition:</b> <a href="array__parameters_8h_source.html#l00247">array_parameters.h:247</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aedeeb6036417fee8da3226519e4b7f26"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t stride_un_shift </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00090">90</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="array__parameters_8h_source.html#l00247">parameters::stride_shift()</a>, and <a class="el" href="global__data_8h_source.html#l00535">vw::weights</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00209">child_wid()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00171">min_depths_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00178">min_depths_set()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00119">wid_mask_un_shifted()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span> idx &gt;&gt; poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>.<a class="code" href="classparameters.html#acfa565410aa0c9776d6c05552430fd7c">stride_shift</a>();</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="structvw_html_a8c84a43b76ba98653da4377ea827a5b4"><div class="ttname"><a href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">vw::weights</a></div><div class="ttdeci">parameters weights</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00535">global_data.h:535</a></div></div>
<div class="ttc" id="classparameters_html_acfa565410aa0c9776d6c05552430fd7c"><div class="ttname"><a href="classparameters.html#acfa565410aa0c9776d6c05552430fd7c">parameters::stride_shift</a></div><div class="ttdeci">uint32_t stride_shift()</div><div class="ttdef"><b>Definition:</b> <a href="array__parameters_8h_source.html#l00247">array_parameters.h:247</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a114d384368673737a70a5091a6362c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void synthetic_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structexample.html">example</a> &amp;&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>training</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00473">473</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00126">constant_feat_masked()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00056">stagewise_poly::cur_depth</a>, <a class="el" href="example__predict_8h_source.html#l00039">example_predict::feature_space</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00046">stagewise_poly::num_examples</a>, <a class="el" href="example_8h_source.html#l00068">example::num_features</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00055">stagewise_poly::original_ec</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00045">stagewise_poly::sum_input_sparsity</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00044">stagewise_poly::sum_sparsity</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00054">stagewise_poly::synth_rec_f</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00408">synthetic_decycle()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00367">synthetic_reset()</a>, <a class="el" href="example_8h_source.html#l00072">example::total_sum_feat_sq</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00057">stagewise_poly::training</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00021">tree_atomics</a>, <a class="el" href="feature__group_8h_source.html#l00029">feature::weight_index</a>, and <a class="el" href="feature__group_8h_source.html#l00028">feature::x</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00509">learn()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00499">predict()</a>.</p>
<div class="fragment"><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#a0717a42934beaf5f00495d6451b98a12">synthetic_reset</a>(poly, ec);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a> = 0;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">synth_rec_f</a>.<a class="code" href="structfeature.html#ae72c1b33aac82244c19ff232b8ced48a">x</a> = 1.0;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">synth_rec_f</a>.<a class="code" href="structfeature.html#a0a02b4c4c785a3ee3f8f1503ef7e4616">weight_index</a> = <a class="code" href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a>(poly);  <span class="comment">// note: not ft_offset&#39;d</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#ac844f17ac3ab90753e2c71e419fab6c2">training</a> = training;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">   * Another choice is to mark the constant feature as the single initial</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">   * parent, and recurse just on that feature (which arguably correctly interprets poly.cur_depth).</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">   * Problem with this is if there is a collision with the root...</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  GD::foreach_feature&lt;stagewise_poly, uint64_t, synthetic_create_rec&gt;(*poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>, *poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a>, poly);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="stagewise__poly_8cc.html#a003e9d852313a639fdd04d5f814d1b3c">synthetic_decycle</a>(poly);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#ad434838ba5443d5f6b5529558d5c1a8c">total_sum_feat_sq</a> = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a59f24cbe1603a24ae5812b7d262f3668">feature_space</a>[<a class="code" href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a>].sum_feat_sq;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span> (training)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a916297b11591ef354d978a35605d0a56">sum_sparsity</a> += poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">num_features</a>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#ae100c8e43f6d1331f71fe858eb090050">sum_input_sparsity</a> += ec.<a class="code" href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">num_features</a>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a511ecd9de9bbd0d51bf3e86b57fed4b6">num_examples</a> += 1;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div><div class="ttc" id="structfeature_html_ae72c1b33aac82244c19ff232b8ced48a"><div class="ttname"><a href="structfeature.html#ae72c1b33aac82244c19ff232b8ced48a">feature::x</a></div><div class="ttdeci">float x</div><div class="ttdef"><b>Definition:</b> <a href="feature__group_8h_source.html#l00028">feature_group.h:28</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a511ecd9de9bbd0d51bf3e86b57fed4b6"><div class="ttname"><a href="structstagewise__poly.html#a511ecd9de9bbd0d51bf3e86b57fed4b6">stagewise_poly::num_examples</a></div><div class="ttdeci">uint64_t num_examples</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00046">stagewise_poly.cc:46</a></div></div>
<div class="ttc" id="structstagewise__poly_html_ac844f17ac3ab90753e2c71e419fab6c2"><div class="ttname"><a href="structstagewise__poly.html#ac844f17ac3ab90753e2c71e419fab6c2">stagewise_poly::training</a></div><div class="ttdeci">bool training</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00057">stagewise_poly.cc:57</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a73829e83e38e59c1335ed28dfb3314d1"><div class="ttname"><a href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">stagewise_poly::synth_rec_f</a></div><div class="ttdeci">feature synth_rec_f</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00054">stagewise_poly.cc:54</a></div></div>
<div class="ttc" id="structstagewise__poly_html_ae100c8e43f6d1331f71fe858eb090050"><div class="ttname"><a href="structstagewise__poly.html#ae100c8e43f6d1331f71fe858eb090050">stagewise_poly::sum_input_sparsity</a></div><div class="ttdeci">uint64_t sum_input_sparsity</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00045">stagewise_poly.cc:45</a></div></div>
<div class="ttc" id="structfeature_html_a0a02b4c4c785a3ee3f8f1503ef7e4616"><div class="ttname"><a href="structfeature.html#a0a02b4c4c785a3ee3f8f1503ef7e4616">feature::weight_index</a></div><div class="ttdeci">uint64_t weight_index</div><div class="ttdef"><b>Definition:</b> <a href="feature__group_8h_source.html#l00029">feature_group.h:29</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a528d3d201f37a8c81d30df704d1c707b"><div class="ttname"><a href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a></div><div class="ttdeci">static constexpr uint32_t tree_atomics</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00021">stagewise_poly.cc:21</a></div></div>
<div class="ttc" id="structexample__predict_html_a59f24cbe1603a24ae5812b7d262f3668"><div class="ttname"><a href="structexample__predict.html#a59f24cbe1603a24ae5812b7d262f3668">example_predict::feature_space</a></div><div class="ttdeci">std::array&lt; features, NUM_NAMESPACES &gt; feature_space</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00039">example_predict.h:39</a></div></div>
<div class="ttc" id="structexample_html_a35f3ec2680a21f971548cf5bb9f1fda0"><div class="ttname"><a href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">example::num_features</a></div><div class="ttdeci">size_t num_features</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00068">example.h:68</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aee858c16692c82eee1f5c5a44c153eb9"><div class="ttname"><a href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">stagewise_poly::original_ec</a></div><div class="ttdeci">example * original_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00055">stagewise_poly.cc:55</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a0717a42934beaf5f00495d6451b98a12"><div class="ttname"><a href="stagewise__poly_8cc.html#a0717a42934beaf5f00495d6451b98a12">synthetic_reset</a></div><div class="ttdeci">void synthetic_reset(stagewise_poly &amp;poly, example &amp;ec)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00367">stagewise_poly.cc:367</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a916297b11591ef354d978a35605d0a56"><div class="ttname"><a href="structstagewise__poly.html#a916297b11591ef354d978a35605d0a56">stagewise_poly::sum_sparsity</a></div><div class="ttdeci">uint64_t sum_sparsity</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00044">stagewise_poly.cc:44</a></div></div>
<div class="ttc" id="structexample_html_ad434838ba5443d5f6b5529558d5c1a8c"><div class="ttname"><a href="structexample.html#ad434838ba5443d5f6b5529558d5c1a8c">example::total_sum_feat_sq</a></div><div class="ttdeci">float total_sum_feat_sq</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00072">example.h:72</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a50c8040bbfb52f57236d6c97244d9f88"><div class="ttname"><a href="stagewise__poly_8cc.html#a50c8040bbfb52f57236d6c97244d9f88">constant_feat_masked</a></div><div class="ttdeci">uint64_t constant_feat_masked(const stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00126">stagewise_poly.cc:126</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a003e9d852313a639fdd04d5f814d1b3c"><div class="ttname"><a href="stagewise__poly_8cc.html#a003e9d852313a639fdd04d5f814d1b3c">synthetic_decycle</a></div><div class="ttdeci">void synthetic_decycle(stagewise_poly &amp;poly)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00408">stagewise_poly.cc:408</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a7f0e118e301237f18339d78e2b4ef1f5"><div class="ttname"><a href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">stagewise_poly::cur_depth</a></div><div class="ttdeci">uint32_t cur_depth</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00056">stagewise_poly.cc:56</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec0719b1cbc7ee084036c2d6b88f7315"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void synthetic_create_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>findex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00418">418</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00209">child_wid()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00056">stagewise_poly::cur_depth</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00154">cycle_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00164">cycle_toggle()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00024">default_depth</a>, <a class="el" href="vowpalwabbit_2CMakeLists_8txt_source.html#l00018">endif()</a>, <a class="el" href="example__predict_8h_source.html#l00039">example_predict::feature_space</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00171">min_depths_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00178">min_depths_set()</a>, <a class="el" href="example_8h_source.html#l00068">example::num_features</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00055">stagewise_poly::original_ec</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00140">parent_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00147">parent_toggle()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00085">stride_shift()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00054">stagewise_poly::synth_rec_f</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00057">stagewise_poly::training</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00021">tree_atomics</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00102">un_ft_offset()</a>, <a class="el" href="feature__group_8h_source.html#l00029">feature::weight_index</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00117">wid_mask()</a>, and <a class="el" href="feature__group_8h_source.html#l00028">feature::x</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">// Note: need to un_ft_shift since gd::foreach_feature bakes in the offset.</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  uint64_t wid_atomic = <a class="code" href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a>(poly, <a class="code" href="stagewise__poly_8cc.html#a15362d8c4bafca9101f4263b368fd2ef">un_ft_offset</a>(poly, findex));</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  uint64_t wid_cur = <a class="code" href="stagewise__poly_8cc.html#a739a40f8e225c2537201536d2517aa4a">child_wid</a>(poly, wid_atomic, poly.<a class="code" href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">synth_rec_f</a>.<a class="code" href="structfeature.html#a0a02b4c4c785a3ee3f8f1503ef7e4616">weight_index</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  assert(wid_atomic % <a class="code" href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a>(poly, 1) == 0);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// Note: only mutate learner state when in training mode.  This is because</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// the average test errors across multiple data sets should be equal to</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">// the test error on the merged dataset (which is violated if the code</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// below is run at training time).</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a> &lt; <a class="code" href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a>(poly, wid_cur) &amp;&amp; poly.<a class="code" href="structstagewise__poly.html#ac844f17ac3ab90753e2c71e419fab6c2">training</a>)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a>(poly, wid_cur))</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;FOUND A TRANSPLANT!!! moving [&quot;</span> &lt;&lt; wid_cur &lt;&lt; <span class="stringliteral">&quot;] from depth &quot;</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                &lt;&lt; (uint64_t)<a class="code" href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a>(poly, wid_cur) &lt;&lt; <span class="stringliteral">&quot; to depth &quot;</span> &lt;&lt; poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a> &lt;&lt; std::endl;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="comment">// XXX arguably, should also fear transplants that occured with</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="comment">// a different ft_offset ; e.g., need to look out for cross-reduction</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="comment">// collisions.  Have not played with this issue yet...</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="stagewise__poly_8cc.html#ad0413f46fcafc1dda81e385c599c7151">parent_toggle</a>(poly, wid_cur);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="stagewise__poly_8cc.html#a0c37e448b33a86b6ce921f6508e00b2c">min_depths_set</a>(poly, wid_cur, poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="stagewise__poly_8cc.html#a606c88fbb837a9081613e71df7a53ca4">cycle_get</a>(poly, wid_cur) &amp;&amp;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      ((poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a> &gt; <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a> ? <a class="code" href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a> : poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a>) == <a class="code" href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a>(poly, wid_cur)))</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="stagewise__poly_8cc.html#adec43cb7c4714cd6a9069ac63b8193e1">cycle_toggle</a>(poly, wid_cur);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    ++poly.depths[poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a>];</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">#endif  // DEBUG</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="structfeature.html">feature</a> temp = {v * poly.<a class="code" href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">synth_rec_f</a>.<a class="code" href="structfeature.html#ae72c1b33aac82244c19ff232b8ced48a">x</a>, wid_cur};</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a59f24cbe1603a24ae5812b7d262f3668">feature_space</a>[<a class="code" href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a>].push_back(temp.<a class="code" href="structfeature.html#ae72c1b33aac82244c19ff232b8ced48a">x</a>, temp.<a class="code" href="structfeature.html#a0a02b4c4c785a3ee3f8f1503ef7e4616">weight_index</a>);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">num_features</a>++;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a>(poly, temp.<a class="code" href="structfeature.html#a0a02b4c4c785a3ee3f8f1503ef7e4616">weight_index</a>))</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="structfeature.html">feature</a> parent_f = poly.<a class="code" href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">synth_rec_f</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      poly.<a class="code" href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">synth_rec_f</a> = temp;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      ++poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      poly.max_depth = (poly.max_depth &gt; poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a>) ? poly.max_depth : poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;#<a class="code" href="vowpalwabbit_2CMakeLists_8txt.html#a154f19b44d1bf1c2171ee3217ec0d827">endif</a>  <span class="comment">// DEBUG</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      GD::foreach_feature&lt;stagewise_poly, uint64_t, synthetic_create_rec&gt;(*(poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>), *(poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a>), poly);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      --poly.<a class="code" href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">cur_depth</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      poly.<a class="code" href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">synth_rec_f</a> = parent_f;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div><div class="ttc" id="stagewise__poly_8cc_html_a889b0a61f3055a8fed838d19a9204e14"><div class="ttname"><a href="stagewise__poly_8cc.html#a889b0a61f3055a8fed838d19a9204e14">parent_get</a></div><div class="ttdeci">bool parent_get(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00140">stagewise_poly.cc:140</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a4fca0a9f0d667bbe422056d4c7153077"><div class="ttname"><a href="stagewise__poly_8cc.html#a4fca0a9f0d667bbe422056d4c7153077">stride_shift</a></div><div class="ttdeci">uint64_t stride_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00085">stagewise_poly.cc:85</a></div></div>
<div class="ttc" id="structfeature_html_ae72c1b33aac82244c19ff232b8ced48a"><div class="ttname"><a href="structfeature.html#ae72c1b33aac82244c19ff232b8ced48a">feature::x</a></div><div class="ttdeci">float x</div><div class="ttdef"><b>Definition:</b> <a href="feature__group_8h_source.html#l00028">feature_group.h:28</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a74d4ce866d120d504e7f5616ee3de0d9"><div class="ttname"><a href="stagewise__poly_8cc.html#a74d4ce866d120d504e7f5616ee3de0d9">wid_mask</a></div><div class="ttdeci">uint64_t wid_mask(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00117">stagewise_poly.cc:117</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a8356b52737af4820161d6161e9cd324a"><div class="ttname"><a href="stagewise__poly_8cc.html#a8356b52737af4820161d6161e9cd324a">min_depths_get</a></div><div class="ttdeci">uint8_t min_depths_get(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00171">stagewise_poly.cc:171</a></div></div>
<div class="ttc" id="structstagewise__poly_html_ac844f17ac3ab90753e2c71e419fab6c2"><div class="ttname"><a href="structstagewise__poly.html#ac844f17ac3ab90753e2c71e419fab6c2">stagewise_poly::training</a></div><div class="ttdeci">bool training</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00057">stagewise_poly.cc:57</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a73829e83e38e59c1335ed28dfb3314d1"><div class="ttname"><a href="structstagewise__poly.html#a73829e83e38e59c1335ed28dfb3314d1">stagewise_poly::synth_rec_f</a></div><div class="ttdeci">feature synth_rec_f</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00054">stagewise_poly.cc:54</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a606c88fbb837a9081613e71df7a53ca4"><div class="ttname"><a href="stagewise__poly_8cc.html#a606c88fbb837a9081613e71df7a53ca4">cycle_get</a></div><div class="ttdeci">bool cycle_get(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00154">stagewise_poly.cc:154</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a739a40f8e225c2537201536d2517aa4a"><div class="ttname"><a href="stagewise__poly_8cc.html#a739a40f8e225c2537201536d2517aa4a">child_wid</a></div><div class="ttdeci">uint64_t child_wid(const stagewise_poly &amp;poly, uint64_t wi_atomic, uint64_t wi_general)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00209">stagewise_poly.cc:209</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a15362d8c4bafca9101f4263b368fd2ef"><div class="ttname"><a href="stagewise__poly_8cc.html#a15362d8c4bafca9101f4263b368fd2ef">un_ft_offset</a></div><div class="ttdeci">uint64_t un_ft_offset(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00102">stagewise_poly.cc:102</a></div></div>
<div class="ttc" id="structfeature_html_a0a02b4c4c785a3ee3f8f1503ef7e4616"><div class="ttname"><a href="structfeature.html#a0a02b4c4c785a3ee3f8f1503ef7e4616">feature::weight_index</a></div><div class="ttdeci">uint64_t weight_index</div><div class="ttdef"><b>Definition:</b> <a href="feature__group_8h_source.html#l00029">feature_group.h:29</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a528d3d201f37a8c81d30df704d1c707b"><div class="ttname"><a href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a></div><div class="ttdeci">static constexpr uint32_t tree_atomics</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00021">stagewise_poly.cc:21</a></div></div>
<div class="ttc" id="structexample__predict_html_a59f24cbe1603a24ae5812b7d262f3668"><div class="ttname"><a href="structexample__predict.html#a59f24cbe1603a24ae5812b7d262f3668">example_predict::feature_space</a></div><div class="ttdeci">std::array&lt; features, NUM_NAMESPACES &gt; feature_space</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00039">example_predict.h:39</a></div></div>
<div class="ttc" id="structexample_html_a35f3ec2680a21f971548cf5bb9f1fda0"><div class="ttname"><a href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">example::num_features</a></div><div class="ttdeci">size_t num_features</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00068">example.h:68</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a963ff0346f8e9da6b1aa1242b8864c55"><div class="ttname"><a href="stagewise__poly_8cc.html#a963ff0346f8e9da6b1aa1242b8864c55">default_depth</a></div><div class="ttdeci">static constexpr uint32_t default_depth</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00024">stagewise_poly.cc:24</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_ad0413f46fcafc1dda81e385c599c7151"><div class="ttname"><a href="stagewise__poly_8cc.html#ad0413f46fcafc1dda81e385c599c7151">parent_toggle</a></div><div class="ttdeci">void parent_toggle(stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00147">stagewise_poly.cc:147</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aee858c16692c82eee1f5c5a44c153eb9"><div class="ttname"><a href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">stagewise_poly::original_ec</a></div><div class="ttdeci">example * original_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00055">stagewise_poly.cc:55</a></div></div>
<div class="ttc" id="structfeature_html"><div class="ttname"><a href="structfeature.html">feature</a></div><div class="ttdef"><b>Definition:</b> <a href="feature__group_8h_source.html#l00026">feature_group.h:26</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a0c37e448b33a86b6ce921f6508e00b2c"><div class="ttname"><a href="stagewise__poly_8cc.html#a0c37e448b33a86b6ce921f6508e00b2c">min_depths_set</a></div><div class="ttdeci">void min_depths_set(stagewise_poly &amp;poly, uint64_t wid, uint8_t depth)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00178">stagewise_poly.cc:178</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a7f0e118e301237f18339d78e2b4ef1f5"><div class="ttname"><a href="structstagewise__poly.html#a7f0e118e301237f18339d78e2b4ef1f5">stagewise_poly::cur_depth</a></div><div class="ttdeci">uint32_t cur_depth</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00056">stagewise_poly.cc:56</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_adec43cb7c4714cd6a9069ac63b8193e1"><div class="ttname"><a href="stagewise__poly_8cc.html#adec43cb7c4714cd6a9069ac63b8193e1">cycle_toggle</a></div><div class="ttdeci">void cycle_toggle(stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00164">stagewise_poly.cc:164</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
<div class="ttc" id="vowpalwabbit_2CMakeLists_8txt_html_a154f19b44d1bf1c2171ee3217ec0d827"><div class="ttname"><a href="vowpalwabbit_2CMakeLists_8txt.html#a154f19b44d1bf1c2171ee3217ec0d827">endif</a></div><div class="ttdeci">endif() set(vw_all_headers accumulate.h action_score.h active_cover.h active.h allreduce.h array_parameters_dense.h array_parameters.h audit_regressor.h autolink.h baseline.h beam.h best_constant.h bfgs.h binary.h boosting.h bs.h cache.h cb_adf.h cb_algs.h cb_dro.h cb_explore_adf_bag.h cb_explore_adf_common.h cb_explore_adf_cover.h cb_explore_adf_first.h cb_explore_adf_greedy.h cb_explore_adf_regcb.h cb_explore_adf_softmax.h cb_explore.h cb.h cbify.h ccb_label.h classweight.h comp_io.h conditional_contextual_bandit.h confidence.h config.h.in const ant.h correctedMath.h cost_sensitive.h crossplat_compat.h cs_active.h csoaa.h distributionally_robust.h ect.h error_reporting.h example_predict.h example.h explore_eval.h expreplay.h ezexample.h feature_group.h ftrl.h gd_mf.h gd_predict.h gd.h gen_cs_example.h global_data.h hashstring.h interact.h interactions_predict.h interactions.h io_buf.h kernel_svm.h label_dictionary.h label_parser.h lda_core.h learner.h log_multi.h loss_functions.h lrq.h lrqfa.h marginal.h memory_tree.h memory.h mf.h multiclass.h multilabel_oaa.h multilabel.h mwt.h network.h nn.h no_label.h noop.h oaa.h object_pool.h OjaNewton.h options_boost_po.h options_serializer_boost_po.h options_types.h options.h parse_args.h parse_dispatch_loop.h parse_example_json.h parse_example.h parse_primitives.h parse_regressor.h parser.h print.h queue.h rand48.h recall_tree.h reductions.h scorer.h search_dep_parser.h search_entityrelationtask.h search_graph.h search_hooktask.h search_meta.h search_multiclasstask.h search_sequencetask.h search.h sender.h shared_feature_merger.h simple_label.h slates_label.h spanning_tree.h stable_unique.h stagewise_poly.h svrg.h topk.h unique_sort.h v_array.h version.h vw_allreduce.h vw_exception.h vw_math.h vw_string_view.h vw_validate.h vw_versions.h vw.h vwdll.h vwvis.h warm_cb.h) set(vw_all_sources accumulate.cc action_score.cc active_cover.cc active.cc audit_regressor.cc autolink.cc baseline.cc best_constant.cc bfgs.cc binary.cc boosting.cc bs.cc cache.cc cb_adf.cc cb_algs.cc cb_dro.cc cb_explore_adf_bag.cc cb_explore_adf_cover.cc cb_explore_adf_first.cc cb_explore_adf_greedy.cc cb_explore_adf_regcb.cc cb_explore_adf_softmax.cc cb_explore.cc cb_sample.cc cb.cc cbify.cc ccb_label.cc classweight.cc comp_io.cc conditional_contextual_bandit.cc confidence.cc cost_sensitive.cc cs_active.cc csoaa.cc distributionally_robust.cc ect.cc example.cc explore_eval.cc ftrl.cc gd_mf.cc gd.cc gen_cs_example.cc global_data.cc interact.cc interactions.cc io_buf.cc kernel_svm.cc label_dictionary.cc lda_core.cc learner.cc log_multi.cc loss_functions.cc lrq.cc lrqfa.cc marginal.cc memory_tree.cc mf.cc multiclass.cc multilabel_oaa.cc multilabel.cc mwt.cc network.cc nn.cc no_label.cc noop.cc oaa.cc OjaNewton.cc options_boost_po.cc options_serializer_boost_po.cc parse_args.cc parse_example.cc parse_primitives.cc parse_regressor.cc parser.cc print.cc rand48.cc recall_tree.cc scorer.cc search_dep_parser.cc search_entityrelationtask.cc search_graph.cc search_hooktask.cc search_meta.cc search_multiclasstask.cc search_sequencetask.cc search.cc sender.cc shared_feature_merger.cc simple_label.cc slates_label.cc stagewise_poly.cc svrg.cc topk.cc unique_sort.cc version.cc vw_exception.cc vw_validate.cc warm_cb.cc) add_library(vw $</div><div class="ttdef"><b>Definition:</b> <a href="vowpalwabbit_2CMakeLists_8txt_source.html#l00018">CMakeLists.txt:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a003e9d852313a639fdd04d5f814d1b3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void synthetic_decycle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00408">408</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00154">cycle_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00164">cycle_toggle()</a>, <a class="el" href="example__predict_8h_source.html#l00039">example_predict::feature_space</a>, <a class="el" href="feature__group_8h_source.html#l00251">features::indicies</a>, <a class="el" href="feature__group_8h_source.html#l00339">features::size()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00021">tree_atomics</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00473">synthetic_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;{</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="structfeatures.html">features</a> &amp;fs = poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a59f24cbe1603a24ae5812b7d262f3668">feature_space</a>[<a class="code" href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a>];</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; fs.<a class="code" href="structfeatures.html#a026320c3cb110571f0c07da05c8dbea3">size</a>(); ++i)</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    assert(<a class="code" href="stagewise__poly_8cc.html#a606c88fbb837a9081613e71df7a53ca4">cycle_get</a>(poly, fs.<a class="code" href="structfeatures.html#a2d75751cdcc865b5e62031d40a770a6a">indicies</a>[i]));</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="stagewise__poly_8cc.html#adec43cb7c4714cd6a9069ac63b8193e1">cycle_toggle</a>(poly, fs.<a class="code" href="structfeatures.html#a2d75751cdcc865b5e62031d40a770a6a">indicies</a>[i]);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="ttc" id="structfeatures_html_a2d75751cdcc865b5e62031d40a770a6a"><div class="ttname"><a href="structfeatures.html#a2d75751cdcc865b5e62031d40a770a6a">features::indicies</a></div><div class="ttdeci">v_array&lt; feature_index &gt; indicies</div><div class="ttdef"><b>Definition:</b> <a href="feature__group_8h_source.html#l00251">feature_group.h:251</a></div></div>
<div class="ttc" id="structfeatures_html"><div class="ttname"><a href="structfeatures.html">features</a></div><div class="ttdoc">the core definition of a set of features. </div><div class="ttdef"><b>Definition:</b> <a href="feature__group_8h_source.html#l00248">feature_group.h:248</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a606c88fbb837a9081613e71df7a53ca4"><div class="ttname"><a href="stagewise__poly_8cc.html#a606c88fbb837a9081613e71df7a53ca4">cycle_get</a></div><div class="ttdeci">bool cycle_get(const stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00154">stagewise_poly.cc:154</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a528d3d201f37a8c81d30df704d1c707b"><div class="ttname"><a href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a></div><div class="ttdeci">static constexpr uint32_t tree_atomics</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00021">stagewise_poly.cc:21</a></div></div>
<div class="ttc" id="structexample__predict_html_a59f24cbe1603a24ae5812b7d262f3668"><div class="ttname"><a href="structexample__predict.html#a59f24cbe1603a24ae5812b7d262f3668">example_predict::feature_space</a></div><div class="ttdeci">std::array&lt; features, NUM_NAMESPACES &gt; feature_space</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00039">example_predict.h:39</a></div></div>
<div class="ttc" id="structfeatures_html_a026320c3cb110571f0c07da05c8dbea3"><div class="ttname"><a href="structfeatures.html#a026320c3cb110571f0c07da05c8dbea3">features::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="feature__group_8h_source.html#l00339">feature_group.h:339</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_adec43cb7c4714cd6a9069ac63b8193e1"><div class="ttname"><a href="stagewise__poly_8cc.html#adec43cb7c4714cd6a9069ac63b8193e1">cycle_toggle</a></div><div class="ttdeci">void cycle_toggle(stagewise_poly &amp;poly, uint64_t wid)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00164">stagewise_poly.cc:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0717a42934beaf5f00495d6451b98a12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void synthetic_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structexample.html">example</a> &amp;&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Some comments on ft_offset.</p>
<p>The plan is to do the feature mapping dfs with weight indices ignoring the ft_offset. This is because ft_offset is then added at the end, guaranteeing local/strided access on synth_ec. This might not matter too much in this implementation (where, e.g., &ndash;oaa runs one after the other, not interleaved), but who knows.</p>
<p>(The other choice is to basically ignore adjusting for ft_offset when doing the traversal, which means synth_ec.ft_offset is 0 here...)</p>
<p>Anyway, so here is how ft_offset matters:</p><ul>
<li>synthetic_create_rec must "normalize it out" of the fed weight value</li>
<li>parent and min_depths set/get are adjusted for it.</li>
<li>cycle set/get are not adjusted for it, since it doesn't matter for them.</li>
<li>operations on the whole weight vector (sorting, save_load, all_reduce) ignore ft_offset, just treat the thing as a flat vector.</li>
</ul>

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00367">367</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="example_8h_source.html#l00078">example::end_pass</a>, <a class="el" href="example_8h_source.html#l00065">example::example_counter</a>, <a class="el" href="example__predict_8h_source.html#l00039">example_predict::feature_space</a>, <a class="el" href="example__predict_8h_source.html#l00040">example_predict::ft_offset</a>, <a class="el" href="example__predict_8h_source.html#l00038">example_predict::indices</a>, <a class="el" href="example__predict_8h_source.html#l00044">example_predict::interactions</a>, <a class="el" href="global__data_8h_source.html#l00449">vw::interactions</a>, <a class="el" href="example_8h_source.html#l00058">example::l</a>, <a class="el" href="example_8h_source.html#l00068">example::num_features</a>, <a class="el" href="v__array_8h_source.html#l00105">v_array&lt; T &gt;::push_back()</a>, <a class="el" href="v__array_8h_source.html#l00066">v_array&lt; T &gt;::size()</a>, <a class="el" href="example_8h_source.html#l00079">example::sorted</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>, <a class="el" href="example_8h_source.html#l00064">example::tag</a>, <a class="el" href="example_8h_source.html#l00077">example::test_only</a>, <a class="el" href="example_8h_source.html#l00072">example::total_sum_feat_sq</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00021">tree_atomics</a>, and <a class="el" href="example_8h_source.html#l00063">example::weight</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00473">synthetic_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a0c87f6e82d9c95ae42158bdbdab3acf5">l</a> = ec.<a class="code" href="structexample.html#a0c87f6e82d9c95ae42158bdbdab3acf5">l</a>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a403be75fc4fdd058e4f7c1baf39be11a">weight</a> = ec.<a class="code" href="structexample.html#a403be75fc4fdd058e4f7c1baf39be11a">weight</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#ae05e98faef8389156ebb6d8f823ca378">tag</a> = ec.<a class="code" href="structexample.html#ae05e98faef8389156ebb6d8f823ca378">tag</a>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example_counter</a> = ec.<a class="code" href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example_counter</a>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#afe01acc762c1cf62060e68f18c1ee3d5">interactions</a> = &amp;poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab2235636a350b07cef3259da29991b73">interactions</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a> = ec.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#aafed65a0405faa864c87b8b75d39ef4d">test_only</a> = ec.<a class="code" href="structexample.html#aafed65a0405faa864c87b8b75d39ef4d">test_only</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#aed100c9f43cef70f89c20dc5fdd30a12">end_pass</a> = ec.<a class="code" href="structexample.html#aed100c9f43cef70f89c20dc5fdd30a12">end_pass</a>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a0477cb59212f3ef7524d6f9b04d50918">sorted</a> = ec.<a class="code" href="structexample.html#a0477cb59212f3ef7524d6f9b04d50918">sorted</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a59f24cbe1603a24ae5812b7d262f3668">feature_space</a>[<a class="code" href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a>].clear();</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">num_features</a> = 0;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample.html#ad434838ba5443d5f6b5529558d5c1a8c">total_sum_feat_sq</a> = 0;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#ab098b66eb3c24b20ca349b7908ef54f3">indices</a>.<a class="code" href="structv__array.html#a903166906624e9e31efe5d1df9bcb092">size</a>() == 0)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#ab098b66eb3c24b20ca349b7908ef54f3">indices</a>.<a class="code" href="structv__array.html#afd6a4614f027ac5f786507552ce13f13">push_back</a>(<a class="code" href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div><div class="ttc" id="structexample_html_ae05e98faef8389156ebb6d8f823ca378"><div class="ttname"><a href="structexample.html#ae05e98faef8389156ebb6d8f823ca378">example::tag</a></div><div class="ttdeci">v_array&lt; char &gt; tag</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00064">example.h:64</a></div></div>
<div class="ttc" id="structexample__predict_html_ab098b66eb3c24b20ca349b7908ef54f3"><div class="ttname"><a href="structexample__predict.html#ab098b66eb3c24b20ca349b7908ef54f3">example_predict::indices</a></div><div class="ttdeci">v_array&lt; namespace_index &gt; indices</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00038">example_predict.h:38</a></div></div>
<div class="ttc" id="structexample_html_ad424234c2abebdd161ad8d7c5052d2b3"><div class="ttname"><a href="structexample.html#ad424234c2abebdd161ad8d7c5052d2b3">example::example_counter</a></div><div class="ttdeci">size_t example_counter</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00065">example.h:65</a></div></div>
<div class="ttc" id="structexample__predict_html_a964a7741ec79edbb2e7e2298ffdd767a"><div class="ttname"><a href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">example_predict::ft_offset</a></div><div class="ttdeci">uint64_t ft_offset</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00040">example_predict.h:40</a></div></div>
<div class="ttc" id="structexample__predict_html_afe01acc762c1cf62060e68f18c1ee3d5"><div class="ttname"><a href="structexample__predict.html#afe01acc762c1cf62060e68f18c1ee3d5">example_predict::interactions</a></div><div class="ttdeci">std::vector&lt; std::string &gt; * interactions</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00044">example_predict.h:44</a></div></div>
<div class="ttc" id="structexample_html_a0477cb59212f3ef7524d6f9b04d50918"><div class="ttname"><a href="structexample.html#a0477cb59212f3ef7524d6f9b04d50918">example::sorted</a></div><div class="ttdeci">bool sorted</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00079">example.h:79</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_a528d3d201f37a8c81d30df704d1c707b"><div class="ttname"><a href="stagewise__poly_8cc.html#a528d3d201f37a8c81d30df704d1c707b">tree_atomics</a></div><div class="ttdeci">static constexpr uint32_t tree_atomics</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00021">stagewise_poly.cc:21</a></div></div>
<div class="ttc" id="structexample__predict_html_a59f24cbe1603a24ae5812b7d262f3668"><div class="ttname"><a href="structexample__predict.html#a59f24cbe1603a24ae5812b7d262f3668">example_predict::feature_space</a></div><div class="ttdeci">std::array&lt; features, NUM_NAMESPACES &gt; feature_space</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00039">example_predict.h:39</a></div></div>
<div class="ttc" id="structv__array_html_afd6a4614f027ac5f786507552ce13f13"><div class="ttname"><a href="structv__array.html#afd6a4614f027ac5f786507552ce13f13">v_array::push_back</a></div><div class="ttdeci">void push_back(const T &amp;new_ele)</div><div class="ttdef"><b>Definition:</b> <a href="v__array_8h_source.html#l00105">v_array.h:105</a></div></div>
<div class="ttc" id="structexample_html_a35f3ec2680a21f971548cf5bb9f1fda0"><div class="ttname"><a href="structexample.html#a35f3ec2680a21f971548cf5bb9f1fda0">example::num_features</a></div><div class="ttdeci">size_t num_features</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00068">example.h:68</a></div></div>
<div class="ttc" id="structexample_html_a0c87f6e82d9c95ae42158bdbdab3acf5"><div class="ttname"><a href="structexample.html#a0c87f6e82d9c95ae42158bdbdab3acf5">example::l</a></div><div class="ttdeci">polylabel l</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00058">example.h:58</a></div></div>
<div class="ttc" id="structexample_html_ad434838ba5443d5f6b5529558d5c1a8c"><div class="ttname"><a href="structexample.html#ad434838ba5443d5f6b5529558d5c1a8c">example::total_sum_feat_sq</a></div><div class="ttdeci">float total_sum_feat_sq</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00072">example.h:72</a></div></div>
<div class="ttc" id="structv__array_html_a903166906624e9e31efe5d1df9bcb092"><div class="ttname"><a href="structv__array.html#a903166906624e9e31efe5d1df9bcb092">v_array::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="v__array_8h_source.html#l00066">v_array.h:66</a></div></div>
<div class="ttc" id="structvw_html_ab2235636a350b07cef3259da29991b73"><div class="ttname"><a href="structvw.html#ab2235636a350b07cef3259da29991b73">vw::interactions</a></div><div class="ttdeci">std::vector&lt; std::string &gt; interactions</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00449">global_data.h:449</a></div></div>
<div class="ttc" id="structexample_html_a403be75fc4fdd058e4f7c1baf39be11a"><div class="ttname"><a href="structexample.html#a403be75fc4fdd058e4f7c1baf39be11a">example::weight</a></div><div class="ttdeci">float weight</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00063">example.h:63</a></div></div>
<div class="ttc" id="structexample_html_aed100c9f43cef70f89c20dc5fdd30a12"><div class="ttname"><a href="structexample.html#aed100c9f43cef70f89c20dc5fdd30a12">example::end_pass</a></div><div class="ttdeci">bool end_pass</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00078">example.h:78</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
<div class="ttc" id="structexample_html_aafed65a0405faa864c87b8b75d39ef4d"><div class="ttname"><a href="structexample.html#aafed65a0405faa864c87b8b75d39ef4d">example::test_only</a></div><div class="ttdeci">bool test_only</div><div class="ttdef"><b>Definition:</b> <a href="example_8h_source.html#l00077">example.h:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15362d8c4bafca9101f4263b368fd2ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t un_ft_offset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00102">102</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="example__predict_8h_source.html#l00040">example_predict::ft_offset</a>, <a class="el" href="global__data_8h_source.html#l00507">vw::length()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00055">stagewise_poly::original_ec</a>, <a class="el" href="array__parameters_8h_source.html#l00247">parameters::stride_shift()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00052">stagewise_poly::synth_ec</a>, and <a class="el" href="global__data_8h_source.html#l00535">vw::weights</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  assert(!poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a> || poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a> == poly.<a class="code" href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">original_ec</a>-&gt;<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">if</span> (poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a> == 0)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> idx;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">while</span> (idx &lt; poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a>)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      idx += poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">length</a>() &lt;&lt; poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>.<a class="code" href="classparameters.html#acfa565410aa0c9776d6c05552430fd7c">stride_shift</a>();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> idx - poly.<a class="code" href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">synth_ec</a>.<a class="code" href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">ft_offset</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="ttc" id="structvw_html_ab73b9bae2e902cf1278e5a3f232832fc"><div class="ttname"><a href="structvw.html#ab73b9bae2e902cf1278e5a3f232832fc">vw::length</a></div><div class="ttdeci">size_t length()</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00507">global_data.h:507</a></div></div>
<div class="ttc" id="structvw_html_a8c84a43b76ba98653da4377ea827a5b4"><div class="ttname"><a href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">vw::weights</a></div><div class="ttdeci">parameters weights</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00535">global_data.h:535</a></div></div>
<div class="ttc" id="structexample__predict_html_a964a7741ec79edbb2e7e2298ffdd767a"><div class="ttname"><a href="structexample__predict.html#a964a7741ec79edbb2e7e2298ffdd767a">example_predict::ft_offset</a></div><div class="ttdeci">uint64_t ft_offset</div><div class="ttdef"><b>Definition:</b> <a href="example__predict_8h_source.html#l00040">example_predict.h:40</a></div></div>
<div class="ttc" id="structstagewise__poly_html_aee858c16692c82eee1f5c5a44c153eb9"><div class="ttname"><a href="structstagewise__poly.html#aee858c16692c82eee1f5c5a44c153eb9">stagewise_poly::original_ec</a></div><div class="ttdeci">example * original_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00055">stagewise_poly.cc:55</a></div></div>
<div class="ttc" id="classparameters_html_acfa565410aa0c9776d6c05552430fd7c"><div class="ttname"><a href="classparameters.html#acfa565410aa0c9776d6c05552430fd7c">parameters::stride_shift</a></div><div class="ttdeci">uint32_t stride_shift()</div><div class="ttdef"><b>Definition:</b> <a href="array__parameters_8h_source.html#l00247">array_parameters.h:247</a></div></div>
<div class="ttc" id="structstagewise__poly_html_a6f5bfc6de950b2910cc0ea532e8698b2"><div class="ttname"><a href="structstagewise__poly.html#a6f5bfc6de950b2910cc0ea532e8698b2">stagewise_poly::synth_ec</a></div><div class="ttdeci">example synth_ec</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00052">stagewise_poly.cc:52</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74d4ce866d120d504e7f5616ee3de0d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t wid_mask </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00117">117</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="array__parameters_8h_source.html#l00263">parameters::mask()</a>, and <a class="el" href="global__data_8h_source.html#l00535">vw::weights</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00209">child_wid()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00126">constant_feat_masked()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{ <span class="keywordflow">return</span> wid &amp; poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>.<a class="code" href="classparameters.html#a417b307b1980e9744d7f2b94acd3a4b2">mask</a>(); }</div><div class="ttc" id="structvw_html_a8c84a43b76ba98653da4377ea827a5b4"><div class="ttname"><a href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">vw::weights</a></div><div class="ttdeci">parameters weights</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00535">global_data.h:535</a></div></div>
<div class="ttc" id="classparameters_html_a417b307b1980e9744d7f2b94acd3a4b2"><div class="ttname"><a href="classparameters.html#a417b307b1980e9744d7f2b94acd3a4b2">parameters::mask</a></div><div class="ttdeci">uint64_t mask()</div><div class="ttdef"><b>Definition:</b> <a href="array__parameters_8h_source.html#l00263">array_parameters.h:263</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8cdd1bb6d4a5c01754c2cb9872ee0538"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t wid_mask_un_shifted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstagewise__poly.html">stagewise_poly</a> &amp;&#160;</td>
          <td class="paramname"><em>poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>wid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00119">119</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>References <a class="el" href="stagewise__poly_8cc_source.html#l00034">stagewise_poly::all</a>, <a class="el" href="array__parameters_8h_source.html#l00263">parameters::mask()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00090">stride_un_shift()</a>, and <a class="el" href="global__data_8h_source.html#l00535">vw::weights</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00154">cycle_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00164">cycle_toggle()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00140">parent_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00147">parent_toggle()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a>(poly, wid &amp; poly.<a class="code" href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">all</a>-&gt;<a class="code" href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">weights</a>.<a class="code" href="classparameters.html#a417b307b1980e9744d7f2b94acd3a4b2">mask</a>());</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="ttc" id="structvw_html_a8c84a43b76ba98653da4377ea827a5b4"><div class="ttname"><a href="structvw.html#a8c84a43b76ba98653da4377ea827a5b4">vw::weights</a></div><div class="ttdeci">parameters weights</div><div class="ttdef"><b>Definition:</b> <a href="global__data_8h_source.html#l00535">global_data.h:535</a></div></div>
<div class="ttc" id="stagewise__poly_8cc_html_aedeeb6036417fee8da3226519e4b7f26"><div class="ttname"><a href="stagewise__poly_8cc.html#aedeeb6036417fee8da3226519e4b7f26">stride_un_shift</a></div><div class="ttdeci">uint64_t stride_un_shift(const stagewise_poly &amp;poly, uint64_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00090">stagewise_poly.cc:90</a></div></div>
<div class="ttc" id="classparameters_html_a417b307b1980e9744d7f2b94acd3a4b2"><div class="ttname"><a href="classparameters.html#a417b307b1980e9744d7f2b94acd3a4b2">parameters::mask</a></div><div class="ttdeci">uint64_t mask()</div><div class="ttdef"><b>Definition:</b> <a href="array__parameters_8h_source.html#l00263">array_parameters.h:263</a></div></div>
<div class="ttc" id="structstagewise__poly_html_acd36240765ab35418acd9f61ca3bb483"><div class="ttname"><a href="structstagewise__poly.html#acd36240765ab35418acd9f61ca3bb483">stagewise_poly::all</a></div><div class="ttdeci">vw * all</div><div class="ttdef"><b>Definition:</b> <a href="stagewise__poly_8cc_source.html#l00034">stagewise_poly.cc:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a7bef303aa70cef243cd95c90833f149e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t cycle_bit = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00020">20</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00154">cycle_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00164">cycle_toggle()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>.</p>

</div>
</div>
<a class="anchor" id="a963ff0346f8e9da6b1aa1242b8864c55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t default_depth = 127</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00024">24</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00130">depthsbits_create()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00545">reduce_min()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00553">reduce_min_max()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>.</p>

</div>
</div>
<a class="anchor" id="a9384f4fe4228393ce09587a4a38658c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t indicator_bit = 128</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00023">23</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00130">depthsbits_create()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00553">reduce_min_max()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>.</p>

</div>
</div>
<a class="anchor" id="ad22a86e1e28ab2638a12ca90cb05cdae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t parent_bit = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00019">19</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00140">parent_get()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00147">parent_toggle()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00186">sanity_check_state()</a>.</p>

</div>
</div>
<a class="anchor" id="a786da50faf577687b38b88863257d571"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float tolerance = 1e-9f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00022">22</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>Referenced by <a class="el" href="vw__math_8h_source.html#l00015">VW::math::are_same()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00278">sort_data_update_support()</a>.</p>

</div>
</div>
<a class="anchor" id="a528d3d201f37a8c81d30df704d1c707b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t tree_atomics = 134</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stagewise__poly_8cc_source.html#l00021">21</a> of file <a class="el" href="stagewise__poly_8cc_source.html">stagewise_poly.cc</a>.</p>

<p>Referenced by <a class="el" href="stagewise__poly_8cc_source.html#l00473">synthetic_create()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00418">synthetic_create_rec()</a>, <a class="el" href="stagewise__poly_8cc_source.html#l00408">synthetic_decycle()</a>, and <a class="el" href="stagewise__poly_8cc_source.html#l00367">synthetic_reset()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 21 2020 19:55:36 for Vowpal Wabbit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
